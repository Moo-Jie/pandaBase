{"version":3,"file":"address-edit.js","sources":["pages/address-edit/address-edit.vue","E:/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvYWRkcmVzcy1lZGl0L2FkZHJlc3MtZWRpdC52dWU"],"sourcesContent":["<template>\n\t<view class=\"page\">\n\t\t<view class=\"container\">\n\t\t\t<view class=\"form-section\">\n\t\t\t\t<view class=\"form-item\">\n\t\t\t\t\t<view class=\"form-label\">\n\t\t\t\t\t\t<text class=\"required\">*</text>\n\t\t\t\t\t\t<text>收货人</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<input class=\"form-input\" v-model=\"form.receiverName\" placeholder=\"请输入收货人姓名\" maxlength=\"50\" />\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"form-item\">\n\t\t\t\t\t<view class=\"form-label\">\n\t\t\t\t\t\t<text class=\"required\">*</text>\n\t\t\t\t\t\t<text>联系电话</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<input class=\"form-input\" v-model=\"form.phone\" type=\"number\" placeholder=\"请输入手机号\" maxlength=\"11\" />\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t<view class=\"form-item\">\n\t\t\t\t<view class=\"form-label\">\n\t\t\t\t\t<text class=\"required\">*</text>\n\t\t\t\t\t<text>所在地区</text>\n\t\t\t\t</view>\n\t\t\t\t<picker \n\t\t\t\t\tmode=\"region\" \n\t\t\t\t\t:value=\"regionArray\"\n\t\t\t\t\t@change=\"handleRegionChange\"\n\t\t\t\t>\n\t\t\t\t\t<view class=\"region-picker\">\n\t\t\t\t\t\t<text class=\"region-text\" v-if=\"regionText\">{{ regionText }}</text>\n\t\t\t\t\t\t<text class=\"placeholder\" v-else>请选择省市区</text>\n\t\t\t\t\t\t<text class=\"arrow\">›</text>\n\t\t\t\t\t</view>\n\t\t\t\t</picker>\n\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"form-item\">\n\t\t\t\t\t<view class=\"form-label\">\n\t\t\t\t\t\t<text class=\"required\">*</text>\n\t\t\t\t\t\t<text>详细地址</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<textarea \n\t\t\t\t\t\tclass=\"form-textarea\" \n\t\t\t\t\t\tv-model=\"form.detailAddress\" \n\t\t\t\t\t\tplaceholder=\"请输入详细地址（街道、门牌号等）\" \n\t\t\t\t\t\tmaxlength=\"200\"\n\t\t\t\t\t/>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"form-item\">\n\t\t\t\t\t<view class=\"default-switch\">\n\t\t\t\t\t\t<text class=\"switch-label\">设为默认地址</text>\n\t\t\t\t\t\t<switch :checked=\"form.isDefault\" @change=\"handleDefaultChange\" color=\"#90d26c\" />\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 底部按钮 -->\n\t\t<view class=\"bottom-bar\">\n\t\t\t<button class=\"save-btn\" @click=\"handleSave\" :loading=\"saving\" :disabled=\"saving\" hover-class=\"button-hover\">保存地址</button>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nimport { addAddress } from '../../api/address.js';\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tform: {\n\t\t\t\treceiverName: '',\n\t\t\t\tphone: '',\n\t\t\t\tprovince: '',\n\t\t\t\tcity: '',\n\t\t\t\tdistrict: '',\n\t\t\t\tdetailAddress: '',\n\t\t\t\tisDefault: false\n\t\t\t},\n\t\t\tregionArray: [], // 微信原生地区选择器的值 [省, 市, 区]\n\t\t\tregionText: '',\n\t\t\tsaving: false\n\t\t}\n\t},\n\tmethods: {\n\t\t// 地区选择完成（使用微信原生组件）\n\t\thandleRegionChange(e) {\n\t\t\tconst region = e.detail.value; // [省, 市, 区]\n\t\t\tthis.regionArray = region;\n\t\t\t\n\t\t\tthis.form.province = region[0];\n\t\t\tthis.form.city = region[1];\n\t\t\tthis.form.district = region[2];\n\t\t\tthis.regionText = `${region[0]} ${region[1]} ${region[2]}`;\n\t\t},\n\t\t\n\t\t// 默认地址切换\n\t\thandleDefaultChange(e) {\n\t\t\tthis.form.isDefault = e.detail.value;\n\t\t},\n\t\t\n\t\t// 验证表单\n\t\tvalidateForm() {\n\t\t\tif (!this.form.receiverName) {\n\t\t\t\tuni.showToast({ title: '请输入收货人姓名', icon: 'none' });\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!this.form.phone) {\n\t\t\t\tuni.showToast({ title: '请输入联系电话', icon: 'none' });\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!/^1[3-9]\\d{9}$/.test(this.form.phone)) {\n\t\t\t\tuni.showToast({ title: '请输入正确的手机号', icon: 'none' });\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!this.form.province || !this.form.city || !this.form.district) {\n\t\t\t\tuni.showToast({ title: '请选择所在地区', icon: 'none' });\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!this.form.detailAddress) {\n\t\t\t\tuni.showToast({ title: '请输入详细地址', icon: 'none' });\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\t\n\t\t// 保存地址\n\t\tasync handleSave() {\n\t\t\tif (!this.validateForm()) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tif (this.saving) return;\n\t\t\tthis.saving = true;\n\t\t\t\n\t\t\ttry {\n\t\t\t\tuni.showLoading({ title: '保存中...', mask: true });\n\t\t\t\t\n\t\t\t\tawait addAddress(this.form);\n\t\t\t\t\n\t\t\t\tuni.hideLoading();\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '保存成功',\n\t\t\t\t\ticon: 'success'\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tuni.navigateBack();\n\t\t\t\t}, 1500);\n\t\t\t\t\n\t\t\t} catch (error) {\n\t\t\t\tuni.hideLoading();\n\t\t\t\tconsole.error('保存地址失败:', error);\n\t\t\t} finally {\n\t\t\t\tthis.saving = false;\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style scoped lang=\"scss\">\n.page {\n\tmin-height: 100vh;\n\tbackground-color: #f5f5f5;\n\tpadding-bottom: 120rpx;\n}\n\n.container {\n\tpadding: 20rpx 30rpx;\n}\n\n.form-section {\n\tbackground-color: #ffffff;\n\tborder-radius: 16rpx;\n\tpadding: 30rpx;\n\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\n}\n\n.form-item {\n\tmargin-bottom: 30rpx;\n}\n\n.form-item:last-child {\n\tmargin-bottom: 0;\n}\n\n.form-label {\n\tfont-size: 28rpx;\n\tcolor: #333333;\n\tfont-weight: 500;\n\tmargin-bottom: 16rpx;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.required {\n\tcolor: #f56c6c;\n\tmargin-right: 4rpx;\n}\n\n.form-input, .form-textarea {\n\twidth: 90%;\n\tbackground-color: #f5f5f5;\n\tborder-radius: 12rpx;\n\tpadding: 16rpx 20rpx;\n\tfont-size: 28rpx;\n\tcolor: #333333;\n\tborder: 1rpx solid #e0e0e0;\n}\n\n.form-input {\n\theight: 80rpx;\n}\n\n.form-textarea {\n\tmin-height: 160rpx;\n}\n\n.region-picker {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\theight: 80rpx;\n\tbackground-color: #f5f5f5;\n\tborder-radius: 12rpx;\n\tpadding: 0 20rpx;\n\tborder: 1rpx solid #e0e0e0;\n}\n\n.region-text {\n\tfont-size: 28rpx;\n\tcolor: #333333;\n}\n\n.placeholder {\n\tfont-size: 28rpx;\n\tcolor: #999999;\n}\n\n.arrow {\n\tfont-size: 36rpx;\n\tcolor: #cccccc;\n}\n\n.default-switch {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 16rpx 0;\n}\n\n.switch-label {\n\tfont-size: 28rpx;\n\tcolor: #333333;\n}\n\n/* 底部按钮 */\n.bottom-bar {\n\tposition: fixed;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\tbackground-color: #ffffff;\n\tpadding: 20rpx 30rpx;\n\tbox-shadow: 0 -2rpx 10rpx rgba(0, 0, 0, 0.05);\n\tz-index: 100;\n}\n\n.save-btn {\n\twidth: 100%;\n\theight: 88rpx;\n\tbackground: linear-gradient(135deg, #a8e063 0%, #297512 100%);\n\tborder-radius: 44rpx;\n\tfont-size: 32rpx;\n\tfont-weight: bold;\n\tcolor: #ffffff;\n\tborder: none;\n}\n\n.save-btn[disabled] {\n\topacity: 0.6;\n}\n\n.save-btn::after {\n\tborder: none;\n}\n\n.button-hover {\n\topacity: 0.85;\n}\n\n/* 空状态和地址列表样式复用address-list页面 */\n.empty-state {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tpadding: 120rpx 30rpx;\n}\n\n.empty-icon {\n\tfont-size: 120rpx;\n\tmargin-bottom: 30rpx;\n\topacity: 0.3;\n}\n\n.empty-text {\n\tfont-size: 30rpx;\n\tcolor: #666666;\n\tmargin-bottom: 12rpx;\n}\n\n.empty-tip {\n\tfont-size: 24rpx;\n\tcolor: #999999;\n}\n\n.address-list {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 20rpx;\n}\n\n.address-item {\n\tbackground-color: #ffffff;\n\tborder-radius: 16rpx;\n\tpadding: 30rpx;\n\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\n}\n\n.address-header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-bottom: 16rpx;\n}\n\n.add-btn {\n\twidth: 100%;\n\theight: 88rpx;\n\tbackground: linear-gradient(135deg, #a8e063 0%, #297512 100%);\n\tborder-radius: 44rpx;\n\tfont-size: 30rpx;\n\tfont-weight: bold;\n\tcolor: #ffffff;\n\tborder: none;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.add-btn::after {\n\tborder: none;\n}\n\n.btn-icon {\n\tfont-size: 32rpx;\n\tmargin-right: 8rpx;\n}\n</style>\n\n","import MiniProgramPage from 'D:/AAA_idea_java/pandaBase/panda-base-uni-app/pages/address-edit/address-edit.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","addAddress"],"mappings":";;;AAsEA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,MAAM;AAAA,QACL,cAAc;AAAA,QACd,OAAO;AAAA,QACP,UAAU;AAAA,QACV,MAAM;AAAA,QACN,UAAU;AAAA,QACV,eAAe;AAAA,QACf,WAAW;AAAA,MACX;AAAA,MACD,aAAa,CAAE;AAAA;AAAA,MACf,YAAY;AAAA,MACZ,QAAQ;AAAA,IACT;AAAA,EACA;AAAA,EACD,SAAS;AAAA;AAAA,IAER,mBAAmB,GAAG;AACrB,YAAM,SAAS,EAAE,OAAO;AACxB,WAAK,cAAc;AAEnB,WAAK,KAAK,WAAW,OAAO,CAAC;AAC7B,WAAK,KAAK,OAAO,OAAO,CAAC;AACzB,WAAK,KAAK,WAAW,OAAO,CAAC;AAC7B,WAAK,aAAa,GAAG,OAAO,CAAC,CAAC,IAAI,OAAO,CAAC,CAAC,IAAI,OAAO,CAAC,CAAC;AAAA,IACxD;AAAA;AAAA,IAGD,oBAAoB,GAAG;AACtB,WAAK,KAAK,YAAY,EAAE,OAAO;AAAA,IAC/B;AAAA;AAAA,IAGD,eAAe;AACd,UAAI,CAAC,KAAK,KAAK,cAAc;AAC5BA,sBAAG,MAAC,UAAU,EAAE,OAAO,YAAY,MAAM,OAAK,CAAG;AACjD,eAAO;AAAA,MACR;AACA,UAAI,CAAC,KAAK,KAAK,OAAO;AACrBA,sBAAG,MAAC,UAAU,EAAE,OAAO,WAAW,MAAM,OAAK,CAAG;AAChD,eAAO;AAAA,MACR;AACA,UAAI,CAAC,gBAAgB,KAAK,KAAK,KAAK,KAAK,GAAG;AAC3CA,sBAAG,MAAC,UAAU,EAAE,OAAO,aAAa,MAAM,OAAK,CAAG;AAClD,eAAO;AAAA,MACR;AACA,UAAI,CAAC,KAAK,KAAK,YAAY,CAAC,KAAK,KAAK,QAAQ,CAAC,KAAK,KAAK,UAAU;AAClEA,sBAAG,MAAC,UAAU,EAAE,OAAO,WAAW,MAAM,OAAK,CAAG;AAChD,eAAO;AAAA,MACR;AACA,UAAI,CAAC,KAAK,KAAK,eAAe;AAC7BA,sBAAG,MAAC,UAAU,EAAE,OAAO,WAAW,MAAM,OAAK,CAAG;AAChD,eAAO;AAAA,MACR;AACA,aAAO;AAAA,IACP;AAAA;AAAA,IAGD,MAAM,aAAa;AAClB,UAAI,CAAC,KAAK,gBAAgB;AACzB;AAAA,MACD;AAEA,UAAI,KAAK;AAAQ;AACjB,WAAK,SAAS;AAEd,UAAI;AACHA,sBAAG,MAAC,YAAY,EAAE,OAAO,UAAU,MAAM,KAAG,CAAG;AAE/C,cAAMC,YAAU,WAAC,KAAK,IAAI;AAE1BD,sBAAG,MAAC,YAAW;AACfA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AAED,mBAAW,MAAM;AAChBA,wBAAG,MAAC,aAAY;AAAA,QAChB,GAAE,IAAI;AAAA,MAEN,SAAO,OAAO;AACfA,sBAAG,MAAC,YAAW;AACfA,sBAAA,MAAA,MAAA,SAAA,8CAAc,WAAW,KAAK;AAAA,MAC/B,UAAU;AACT,aAAK,SAAS;AAAA,MACf;AAAA,IACD;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;AChKA,GAAG,WAAW,eAAe;"}