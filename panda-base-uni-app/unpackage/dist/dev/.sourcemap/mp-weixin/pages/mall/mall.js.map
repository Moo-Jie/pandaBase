{"version":3,"file":"mall.js","sources":["pages/mall/mall.vue","E:/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWFsbC9tYWxsLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"page\">\r\n\t\t<!-- ÂàÜÁ±ªÊ†áÁ≠æ -->\r\n\t\t<view class=\"category-bar\">\r\n\t\t\t<scroll-view class=\"category-scroll\" scroll-x>\r\n\t\t\t\t<view class=\"category-list\">\r\n\t\t\t\t\t<view \r\n\t\t\t\t\t\tclass=\"category-item\" \r\n\t\t\t\t\t\t:class=\"{ active: currentCategory === item.value }\"\r\n\t\t\t\t\t\tv-for=\"item in categories\" \r\n\t\t\t\t\t\t:key=\"item.value\"\r\n\t\t\t\t\t\t@click=\"selectCategory(item.value)\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<text class=\"category-text\">{{ item.label }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- ÂïÜÂìÅÂàóË°® -->\r\n\t\t<view class=\"product-section\">\r\n\t\t\t<!-- ÂïÜÂìÅÁΩëÊ†º -->\r\n\t\t\t<view class=\"product-list\">\r\n\t\t\t\t<view \r\n\t\t\t\t\tclass=\"product-card\" \r\n\t\t\t\t\tv-for=\"product in productList\" \r\n\t\t\t\t\t:key=\"product.id\"\r\n\t\t\t\t\t@click=\"goProductDetail(product.id)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<view class=\"product-image-wrapper\">\r\n\t\t\t\t\t\t<image class=\"product-image\" :src=\"product.imageUrl || '/static/images/logo.png'\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t<view class=\"product-tag\" v-if=\"product.isRecommend\">\r\n\t\t\t\t\t\t\t<text class=\"tag-text\">Êé®Ëçê</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"product-info\">\r\n\t\t\t\t\t\t<text class=\"product-name\">{{ product.name }}</text>\r\n\t\t\t\t\t\t<text class=\"product-desc\">{{ product.description }}</text>\r\n\t\t\t\t\t\t<view class=\"product-footer\">\r\n\t\t\t\t\t\t\t<view class=\"price-box\">\r\n\t\t\t\t\t\t\t\t<text class=\"price\">¬•{{ product.price }}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"original-price\" v-if=\"product.originalPrice\">¬•{{ product.originalPrice }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"buy-tag\">\r\n\t\t\t\t\t\t\t\t<text class=\"buy-text\">Á´ãÂç≥Ë¥≠‰π∞</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- Á©∫Áä∂ÊÄÅ -->\r\n\t\t\t<view class=\"empty-state\" v-if=\"productList.length === 0 && !loading\">\r\n\t\t\t\t<text class=\"empty-icon\">üì¶</text>\r\n\t\t\t\t<text class=\"empty-text\">ÊöÇÊó†ÂïÜÂìÅ</text>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- Âä†ËΩΩÁä∂ÊÄÅ -->\r\n\t\t\t<view class=\"loading-state\" v-if=\"loading\">\r\n\t\t\t\t<text class=\"loading-text\">Âä†ËΩΩ‰∏≠...</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport { getProductList } from '../../api/product.js';\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcurrentCategory: 'all',\r\n\t\t\tcategories: [\r\n\t\t\t\t{ label: 'ÂÖ®ÈÉ®', value: 'all' },\r\n\t\t\t\t{ label: 'Âπ¥Âç°', value: 1 },\r\n\t\t\t\t{ label: 'ÊúàÂç°', value: 2 },\r\n\t\t\t\t{ label: 'Ê¨°Á•®', value: 3 },\r\n\t\t\t\t{ label: 'Âë®ËæπÂïÜÂìÅ', value: 4 },\r\n\t\t\t\t{ label: 'ÁªÑÂêàÂ•óÈ§ê', value: 5 }\r\n\t\t\t],\r\n\t\t\tproductList: [],\r\n\t\t\tloading: false,\r\n\t\t\tpageNum: 1,\r\n\t\t\tpageSize: 10\r\n\t\t}\r\n\t},\r\n\tonLoad() {\r\n\t\tthis.loadProducts();\r\n\t},\r\n\tonShow() {\r\n\t\t// ÊØèÊ¨°ÊòæÁ§∫Êó∂Âà∑Êñ∞ÂïÜÂìÅÂàóË°®\r\n\t\tthis.loadProducts();\r\n\t},\r\n\tmethods: {\r\n\t\t// ÈÄâÊã©ÂàÜÁ±ª\r\n\t\tselectCategory(value) {\r\n\t\t\tthis.currentCategory = value;\r\n\t\t\tthis.pageNum = 1;\r\n\t\t\tthis.loadProducts();\r\n\t\t},\r\n\t\t\r\n\t\t// Âä†ËΩΩÂïÜÂìÅÂàóË°®\r\n\t\tasync loadProducts() {\r\n\t\t\tthis.loading = true;\r\n\t\t\ttry {\r\n\t\t\t\tconst params = {\r\n\t\t\t\t\tpageNum: this.pageNum,\r\n\t\t\t\t\tpageSize: this.pageSize,\r\n\t\t\t\t\tstatus: 1 // Âè™Êü•ËØ¢‰∏äÊû∂ÂïÜÂìÅ\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\t// Â¶ÇÊûúÈÄâÊã©‰∫ÜÂÖ∑‰ΩìÂàÜÁ±ªÔºåÊ∑ªÂä†Á±ªÂûãÁ≠õÈÄâ\r\n\t\t\t\tif (this.currentCategory !== 'all') {\r\n\t\t\t\t\tparams.type = this.currentCategory;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst result = await getProductList(params);\r\n\t\t\t\t\r\n\t\t\t\tif (result && result.records) {\r\n\t\t\t\t\tthis.productList = result.records;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.productList = [];\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('Âä†ËΩΩÂïÜÂìÅÂ§±Ë¥•:', error);\r\n\t\t\t\tthis.productList = [];\r\n\t\t\t} finally {\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// Ë∑≥ËΩ¨ÂïÜÂìÅËØ¶ÊÉÖ\r\n\t\tgoProductDetail(productId) {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: `/pages/product-detail/product-detail?id=${productId}`\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.page {\r\n\tmin-height: 100vh;\r\n\tbackground-color: #f5f5f5;\r\n}\r\n\r\n/* ÊêúÁ¥¢Ê†è */\r\n.search-bar {\r\n\tbackground-color: #ffffff;\r\n\tpadding: 20rpx 30rpx;\r\n\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.search-input {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tbackground-color: #f5f5f5;\r\n\tborder-radius: 50rpx;\r\n\tpadding: 16rpx 30rpx;\r\n}\r\n\r\n.search-icon {\r\n\tfont-size: 32rpx;\r\n\tmargin-right: 16rpx;\r\n}\r\n\r\n.input {\r\n\tflex: 1;\r\n\tfont-size: 28rpx;\r\n\tcolor: #333333;\r\n}\r\n\r\n.placeholder {\r\n\tcolor: #999999;\r\n}\r\n\r\n/* ÂàÜÁ±ªÊ†è */\r\n.category-bar {\r\n\tbackground-color: #ffffff;\r\n\tpadding: 20rpx 0;\r\n\tmargin-bottom: 20rpx;\r\n}\r\n\r\n.category-scroll {\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.category-list {\r\n\tdisplay: inline-flex;\r\n\tpadding: 0 20rpx;\r\n}\r\n\r\n.category-item {\r\n\tdisplay: inline-block;\r\n\tpadding: 16rpx 32rpx;\r\n\tmargin: 0 10rpx;\r\n\tbackground-color: #f5f5f5;\r\n\tborder-radius: 40rpx;\r\n\ttransition: all 0.3s;\r\n}\r\n\r\n.category-item.active {\r\n\tbackground: linear-gradient(135deg, #a8e063 0%, #297512 100%);\r\n}\r\n\r\n.category-text {\r\n\tfont-size: 28rpx;\r\n\tcolor: #666666;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.category-item.active .category-text {\r\n\tcolor: #ffffff;\r\n\tfont-weight: bold;\r\n}\r\n\r\n/* ÂïÜÂìÅÂå∫Âüü */\r\n.product-section {\r\n\tpadding: 0 30rpx 30rpx;\r\n}\r\n\r\n/* Êé®ËçêÊ®™ÂπÖ */\r\n.banner-section {\r\n\tmargin-bottom: 30rpx;\r\n}\r\n\r\n.banner {\r\n\tposition: relative;\r\n\theight: 300rpx;\r\n\tborder-radius: 20rpx;\r\n\toverflow: hidden;\r\n\tbox-shadow: 0 8rpx 16rpx rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.banner-img {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n\r\n.banner-content {\r\n\tposition: absolute;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tpadding: 30rpx;\r\n\tbackground: linear-gradient(to top, rgba(0, 0, 0, 0.6), transparent);\r\n}\r\n\r\n.banner-title {\r\n\tdisplay: block;\r\n\tfont-size: 36rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #ffffff;\r\n\tmargin-bottom: 8rpx;\r\n}\r\n\r\n.banner-desc {\r\n\tdisplay: block;\r\n\tfont-size: 24rpx;\r\n\tcolor: rgba(255, 255, 255, 0.9);\r\n}\r\n\r\n/* ÂïÜÂìÅÂàóË°® */\r\n.product-list {\r\n\tdisplay: grid;\r\n\tgrid-template-columns: repeat(2, 1fr);\r\n\tgap: 20rpx;\r\n}\r\n\r\n.product-card {\r\n\tbackground-color: #ffffff;\r\n\tborder-radius: 16rpx;\r\n\toverflow: hidden;\r\n\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.08);\r\n\ttransition: all 0.3s;\r\n}\r\n\r\n.product-image-wrapper {\r\n\tposition: relative;\r\n\twidth: 100%;\r\n\tbackground-color: #f5f5f5;\r\n}\r\n\r\n.product-image {\r\n\twidth: 100%;\r\n\theight: auto;\r\n\tdisplay: block;\r\n}\r\n\r\n.product-tag {\r\n\tposition: absolute;\r\n\tbottom: 16rpx;\r\n\tleft: 16rpx;\r\n\tbackground: linear-gradient(135deg, #f9d8ff 0%, #fd8295 100%);\r\n\tpadding: 8rpx 16rpx;\r\n\tborder-radius: 20rpx;\r\n}\r\n\r\n.tag-text {\r\n\tfont-size: 20rpx;\r\n\tcolor: #ffffff;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.product-info {\r\n\tpadding: 20rpx;\r\n}\r\n\r\n.product-name {\r\n\tdisplay: block;\r\n\tfont-size: 28rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #333333;\r\n\tmargin-bottom: 8rpx;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.product-desc {\r\n\tdisplay: block;\r\n\tfont-size: 24rpx;\r\n\tcolor: #999999;\r\n\tmargin-bottom: 16rpx;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.product-footer {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n}\r\n\r\n.price-box {\r\n\tdisplay: flex;\r\n\talign-items: baseline;\r\n}\r\n\r\n.price {\r\n\tfont-size: 32rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #ff4444;\r\n\tmargin-right: 8rpx;\r\n}\r\n\r\n.original-price {\r\n\tfont-size: 22rpx;\r\n\tcolor: #cccccc;\r\n\ttext-decoration: line-through;\r\n}\r\n\r\n.buy-tag {\r\n\tbackground: linear-gradient(135deg, #a8e063 0%, #297512 100%);\r\n\tpadding: 10rpx 20rpx;\r\n\tborder-radius: 20rpx;\r\n}\r\n\r\n.buy-text {\r\n\tfont-size: 22rpx;\r\n\tcolor: #ffffff;\r\n\tfont-weight: bold;\r\n}\r\n\r\n/* Á©∫Áä∂ÊÄÅ */\r\n.empty-state {\r\n\ttext-align: center;\r\n\tpadding: 120rpx 0;\r\n}\r\n\r\n.empty-icon {\r\n\tdisplay: block;\r\n\tfont-size: 120rpx;\r\n\tmargin-bottom: 30rpx;\r\n}\r\n\r\n.empty-text {\r\n\tdisplay: block;\r\n\tfont-size: 28rpx;\r\n\tcolor: #999999;\r\n}\r\n\r\n/* Âä†ËΩΩÁä∂ÊÄÅ */\r\n.loading-state {\r\n\ttext-align: center;\r\n\tpadding: 60rpx 0;\r\n}\r\n\r\n.loading-text {\r\n\tfont-size: 28rpx;\r\n\tcolor: #999999;\r\n}\r\n</style>\r\n\r\n","import MiniProgramPage from 'D:/AAA_idea_java/pandaBase/panda-base-uni-app/pages/mall/mall.vue'\nwx.createPage(MiniProgramPage)"],"names":["getProductList","uni"],"mappings":";;;AAoEA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,iBAAiB;AAAA,MACjB,YAAY;AAAA,QACX,EAAE,OAAO,MAAM,OAAO,MAAO;AAAA,QAC7B,EAAE,OAAO,MAAM,OAAO,EAAG;AAAA,QACzB,EAAE,OAAO,MAAM,OAAO,EAAG;AAAA,QACzB,EAAE,OAAO,MAAM,OAAO,EAAG;AAAA,QACzB,EAAE,OAAO,QAAQ,OAAO,EAAG;AAAA,QAC3B,EAAE,OAAO,QAAQ,OAAO,EAAE;AAAA,MAC1B;AAAA,MACD,aAAa,CAAE;AAAA,MACf,SAAS;AAAA,MACT,SAAS;AAAA,MACT,UAAU;AAAA,IACX;AAAA,EACA;AAAA,EACD,SAAS;AACR,SAAK,aAAY;AAAA,EACjB;AAAA,EACD,SAAS;AAER,SAAK,aAAY;AAAA,EACjB;AAAA,EACD,SAAS;AAAA;AAAA,IAER,eAAe,OAAO;AACrB,WAAK,kBAAkB;AACvB,WAAK,UAAU;AACf,WAAK,aAAY;AAAA,IACjB;AAAA;AAAA,IAGD,MAAM,eAAe;AACpB,WAAK,UAAU;AACf,UAAI;AACH,cAAM,SAAS;AAAA,UACd,SAAS,KAAK;AAAA,UACd,UAAU,KAAK;AAAA,UACf,QAAQ;AAAA;AAAA;AAIT,YAAI,KAAK,oBAAoB,OAAO;AACnC,iBAAO,OAAO,KAAK;AAAA,QACpB;AAEA,cAAM,SAAS,MAAMA,2BAAe,MAAM;AAE1C,YAAI,UAAU,OAAO,SAAS;AAC7B,eAAK,cAAc,OAAO;AAAA,eACpB;AACN,eAAK,cAAc;QACpB;AAAA,MACC,SAAO,OAAO;AACfC,sBAAA,MAAA,MAAA,SAAA,8BAAc,WAAW,KAAK;AAC9B,aAAK,cAAc;MACpB,UAAU;AACT,aAAK,UAAU;AAAA,MAChB;AAAA,IACA;AAAA;AAAA,IAGD,gBAAgB,WAAW;AAC1BA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,2CAA2C,SAAS;AAAA,MAC1D,CAAC;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzIA,GAAG,WAAW,eAAe;"}