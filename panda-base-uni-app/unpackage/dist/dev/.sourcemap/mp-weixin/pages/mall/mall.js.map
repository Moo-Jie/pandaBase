{"version":3,"file":"mall.js","sources":["pages/mall/mall.vue","E:/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWFsbC9tYWxsLnZ1ZQ"],"sourcesContent":["<template>\n\t<view class=\"page\">\n\t\t<!-- ÂàÜÁ±ªÊ†áÁ≠æ -->\n\t\t<view class=\"category-bar\">\n\t\t\t<scroll-view class=\"category-scroll\" scroll-x>\n\t\t\t\t<view class=\"category-list\">\n\t\t\t\t\t<view \n\t\t\t\t\t\tclass=\"category-item\" \n\t\t\t\t\t\t:class=\"{ active: currentCategory === item.value }\"\n\t\t\t\t\t\tv-for=\"item in categories\" \n\t\t\t\t\t\t:key=\"item.value\"\n\t\t\t\t\t\t@click=\"selectCategory(item.value)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<text class=\"category-text\">{{ item.label }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\t\t</view>\n\t\t\n\t\t<!-- ÂïÜÂìÅÂàóË°® -->\n\t\t<view class=\"product-section\">\n\t\t\t<!-- ÂïÜÂìÅÁΩëÊ†º -->\n\t\t\t<view class=\"product-list\">\n\t\t\t\t<view \n\t\t\t\t\tclass=\"product-card\" \n\t\t\t\t\tv-for=\"product in productList\" \n\t\t\t\t\t:key=\"product.id\"\n\t\t\t\t\t@click=\"goProductDetail(product.id)\"\n\t\t\t\t>\n\t\t\t\t\t<view class=\"product-image-wrapper\">\n\t\t\t\t\t\t<image class=\"product-image\" :src=\"product.imageUrl || '/static/images/logo.png'\" mode=\"widthFix\"></image>\n\t\t\t\t\t\t<view class=\"product-tag\" v-if=\"product.isRecommend\">\n\t\t\t\t\t\t\t<text class=\"tag-text\">Êé®Ëçê</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"product-info\">\n\t\t\t\t\t\t<text class=\"product-name\">{{ product.name }}</text>\n\t\t\t\t\t\t<text class=\"product-desc\">{{ product.description }}</text>\n\t\t\t\t\t\t<view class=\"product-footer\">\n\t\t\t\t\t\t\t<view class=\"price-box\">\n\t\t\t\t\t\t\t\t<text class=\"price\">¬•{{ product.price }}</text>\n\t\t\t\t\t\t\t\t<text class=\"original-price\" v-if=\"product.originalPrice\">¬•{{ product.originalPrice }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"buy-tag\">\n\t\t\t\t\t\t\t\t<text class=\"buy-text\">Á´ãÂç≥Ë¥≠‰π∞</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- Á©∫Áä∂ÊÄÅ -->\n\t\t\t<view class=\"empty-state\" v-if=\"productList.length === 0 && !loading\">\n\t\t\t\t<text class=\"empty-icon\">üì¶</text>\n\t\t\t\t<text class=\"empty-text\">ÊöÇÊó†ÂïÜÂìÅ</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- Âä†ËΩΩÁä∂ÊÄÅ -->\n\t\t\t<view class=\"loading-state\" v-if=\"loading\">\n\t\t\t\t<text class=\"loading-text\">Âä†ËΩΩ‰∏≠...</text>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nimport { getProductList } from '../../api/product.js';\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tcurrentCategory: 'all',\n\t\t\tcategories: [\n\t\t\t\t{ label: 'ÂÖ®ÈÉ®', value: 'all' },\n\t\t\t\t{ label: 'Âπ¥Âç°', value: 1 },\n\t\t\t\t{ label: 'ÊúàÂç°', value: 2 },\n\t\t\t\t{ label: 'Ê¨°Á•®', value: 3 },\n\t\t\t\t{ label: 'Âë®ËæπÂïÜÂìÅ', value: 4 },\n\t\t\t\t{ label: 'ÁªÑÂêàÂ•óÈ§ê', value: 5 }\n\t\t\t],\n\t\t\tproductList: [],\n\t\t\tloading: false,\n\t\t\tpageNum: 1,\n\t\t\tpageSize: 10\n\t\t}\n\t},\n\tonLoad() {\n\t\tthis.loadProducts();\n\t},\n\tonShow() {\n\t\t// ÊØèÊ¨°ÊòæÁ§∫Êó∂Âà∑Êñ∞ÂïÜÂìÅÂàóË°®\n\t\tthis.loadProducts();\n\t},\n\tmethods: {\n\t\t// ÈÄâÊã©ÂàÜÁ±ª\n\t\tselectCategory(value) {\n\t\t\tthis.currentCategory = value;\n\t\t\tthis.pageNum = 1;\n\t\t\tthis.loadProducts();\n\t\t},\n\t\t\n\t\t// Âä†ËΩΩÂïÜÂìÅÂàóË°®\n\t\tasync loadProducts() {\n\t\t\tthis.loading = true;\n\t\t\ttry {\n\t\t\t\tconst params = {\n\t\t\t\t\tpageNum: this.pageNum,\n\t\t\t\t\tpageSize: this.pageSize,\n\t\t\t\t\tstatus: 1 // Âè™Êü•ËØ¢‰∏äÊû∂ÂïÜÂìÅ\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\t// Â¶ÇÊûúÈÄâÊã©‰∫ÜÂÖ∑‰ΩìÂàÜÁ±ªÔºåÊ∑ªÂä†Á±ªÂûãÁ≠õÈÄâ\n\t\t\t\tif (this.currentCategory !== 'all') {\n\t\t\t\t\tparams.type = this.currentCategory;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tconst result = await getProductList(params);\n\t\t\t\t\n\t\t\t\tif (result && result.records) {\n\t\t\t\t\tthis.productList = result.records;\n\t\t\t\t} else {\n\t\t\t\t\tthis.productList = [];\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('Âä†ËΩΩÂïÜÂìÅÂ§±Ë¥•:', error);\n\t\t\t\tthis.productList = [];\n\t\t\t} finally {\n\t\t\t\tthis.loading = false;\n\t\t\t}\n\t\t},\n\t\t\n\t\t// Ë∑≥ËΩ¨ÂïÜÂìÅËØ¶ÊÉÖ\n\t\tgoProductDetail(productId) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `/pages/product-detail/product-detail?id=${productId}`\n\t\t\t});\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\n.page {\n\tmin-height: 100vh;\n\tbackground-color: #f5f5f5;\n}\n\n/* ÊêúÁ¥¢Ê†è */\n.search-bar {\n\tbackground-color: #ffffff;\n\tpadding: 20rpx 30rpx;\n\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\n}\n\n.search-input {\n\tdisplay: flex;\n\talign-items: center;\n\tbackground-color: #f5f5f5;\n\tborder-radius: 50rpx;\n\tpadding: 16rpx 30rpx;\n}\n\n.search-icon {\n\tfont-size: 32rpx;\n\tmargin-right: 16rpx;\n}\n\n.input {\n\tflex: 1;\n\tfont-size: 28rpx;\n\tcolor: #333333;\n}\n\n.placeholder {\n\tcolor: #999999;\n}\n\n/* ÂàÜÁ±ªÊ†è */\n.category-bar {\n\tbackground-color: #ffffff;\n\tpadding: 20rpx 0;\n\tmargin-bottom: 20rpx;\n}\n\n.category-scroll {\n\twhite-space: nowrap;\n}\n\n.category-list {\n\tdisplay: inline-flex;\n\tpadding: 0 20rpx;\n}\n\n.category-item {\n\tdisplay: inline-block;\n\tpadding: 16rpx 32rpx;\n\tmargin: 0 10rpx;\n\tbackground-color: #f5f5f5;\n\tborder-radius: 40rpx;\n\ttransition: all 0.3s;\n}\n\n.category-item.active {\n\tbackground: linear-gradient(135deg, #a8e063 0%, #297512 100%);\n}\n\n.category-text {\n\tfont-size: 28rpx;\n\tcolor: #666666;\n\twhite-space: nowrap;\n}\n\n.category-item.active .category-text {\n\tcolor: #ffffff;\n\tfont-weight: bold;\n}\n\n/* ÂïÜÂìÅÂå∫Âüü */\n.product-section {\n\tpadding: 0 30rpx 30rpx;\n}\n\n/* Êé®ËçêÊ®™ÂπÖ */\n.banner-section {\n\tmargin-bottom: 30rpx;\n}\n\n.banner {\n\tposition: relative;\n\theight: 300rpx;\n\tborder-radius: 20rpx;\n\toverflow: hidden;\n\tbox-shadow: 0 8rpx 16rpx rgba(0, 0, 0, 0.1);\n}\n\n.banner-img {\n\twidth: 100%;\n\theight: 100%;\n}\n\n.banner-content {\n\tposition: absolute;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\tpadding: 30rpx;\n\tbackground: linear-gradient(to top, rgba(0, 0, 0, 0.6), transparent);\n}\n\n.banner-title {\n\tdisplay: block;\n\tfont-size: 36rpx;\n\tfont-weight: bold;\n\tcolor: #ffffff;\n\tmargin-bottom: 8rpx;\n}\n\n.banner-desc {\n\tdisplay: block;\n\tfont-size: 24rpx;\n\tcolor: rgba(255, 255, 255, 0.9);\n}\n\n/* ÂïÜÂìÅÂàóË°® */\n.product-list {\n\tdisplay: grid;\n\tgrid-template-columns: repeat(2, 1fr);\n\tgap: 20rpx;\n}\n\n.product-card {\n\tbackground-color: #ffffff;\n\tborder-radius: 16rpx;\n\toverflow: hidden;\n\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.08);\n\ttransition: all 0.3s;\n}\n\n.product-image-wrapper {\n\tposition: relative;\n\twidth: 100%;\n\tbackground-color: #f5f5f5;\n}\n\n.product-image {\n\twidth: 100%;\n\theight: auto;\n\tdisplay: block;\n}\n\n.product-tag {\n\tposition: absolute;\n\tbottom: 16rpx;\n\tleft: 16rpx;\n\tbackground: linear-gradient(135deg, #f9d8ff 0%, #fd8295 100%);\n\tpadding: 8rpx 16rpx;\n\tborder-radius: 20rpx;\n}\n\n.tag-text {\n\tfont-size: 20rpx;\n\tcolor: #ffffff;\n\tfont-weight: bold;\n}\n\n.product-info {\n\tpadding: 20rpx;\n}\n\n.product-name {\n\tdisplay: block;\n\tfont-size: 28rpx;\n\tfont-weight: bold;\n\tcolor: #333333;\n\tmargin-bottom: 8rpx;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.product-desc {\n\tdisplay: block;\n\tfont-size: 24rpx;\n\tcolor: #999999;\n\tmargin-bottom: 16rpx;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.product-footer {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n}\n\n.price-box {\n\tdisplay: flex;\n\talign-items: baseline;\n}\n\n.price {\n\tfont-size: 32rpx;\n\tfont-weight: bold;\n\tcolor: #ff4444;\n\tmargin-right: 8rpx;\n}\n\n.original-price {\n\tfont-size: 22rpx;\n\tcolor: #cccccc;\n\ttext-decoration: line-through;\n}\n\n.buy-tag {\n\tbackground: linear-gradient(135deg, #a8e063 0%, #297512 100%);\n\tpadding: 10rpx 20rpx;\n\tborder-radius: 20rpx;\n}\n\n.buy-text {\n\tfont-size: 22rpx;\n\tcolor: #ffffff;\n\tfont-weight: bold;\n}\n\n/* Á©∫Áä∂ÊÄÅ */\n.empty-state {\n\ttext-align: center;\n\tpadding: 120rpx 0;\n}\n\n.empty-icon {\n\tdisplay: block;\n\tfont-size: 120rpx;\n\tmargin-bottom: 30rpx;\n}\n\n.empty-text {\n\tdisplay: block;\n\tfont-size: 28rpx;\n\tcolor: #999999;\n}\n\n/* Âä†ËΩΩÁä∂ÊÄÅ */\n.loading-state {\n\ttext-align: center;\n\tpadding: 60rpx 0;\n}\n\n.loading-text {\n\tfont-size: 28rpx;\n\tcolor: #999999;\n}\n</style>\n\n","import MiniProgramPage from 'D:/AAA_idea_java/pandaBase/panda-base-uni-app/pages/mall/mall.vue'\nwx.createPage(MiniProgramPage)"],"names":["getProductList","uni"],"mappings":";;;AAoEA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,iBAAiB;AAAA,MACjB,YAAY;AAAA,QACX,EAAE,OAAO,MAAM,OAAO,MAAO;AAAA,QAC7B,EAAE,OAAO,MAAM,OAAO,EAAG;AAAA,QACzB,EAAE,OAAO,MAAM,OAAO,EAAG;AAAA,QACzB,EAAE,OAAO,MAAM,OAAO,EAAG;AAAA,QACzB,EAAE,OAAO,QAAQ,OAAO,EAAG;AAAA,QAC3B,EAAE,OAAO,QAAQ,OAAO,EAAE;AAAA,MAC1B;AAAA,MACD,aAAa,CAAE;AAAA,MACf,SAAS;AAAA,MACT,SAAS;AAAA,MACT,UAAU;AAAA,IACX;AAAA,EACA;AAAA,EACD,SAAS;AACR,SAAK,aAAY;AAAA,EACjB;AAAA,EACD,SAAS;AAER,SAAK,aAAY;AAAA,EACjB;AAAA,EACD,SAAS;AAAA;AAAA,IAER,eAAe,OAAO;AACrB,WAAK,kBAAkB;AACvB,WAAK,UAAU;AACf,WAAK,aAAY;AAAA,IACjB;AAAA;AAAA,IAGD,MAAM,eAAe;AACpB,WAAK,UAAU;AACf,UAAI;AACH,cAAM,SAAS;AAAA,UACd,SAAS,KAAK;AAAA,UACd,UAAU,KAAK;AAAA,UACf,QAAQ;AAAA;AAAA;AAIT,YAAI,KAAK,oBAAoB,OAAO;AACnC,iBAAO,OAAO,KAAK;AAAA,QACpB;AAEA,cAAM,SAAS,MAAMA,2BAAe,MAAM;AAE1C,YAAI,UAAU,OAAO,SAAS;AAC7B,eAAK,cAAc,OAAO;AAAA,eACpB;AACN,eAAK,cAAc;QACpB;AAAA,MACC,SAAO,OAAO;AACfC,sBAAA,MAAA,MAAA,SAAA,8BAAc,WAAW,KAAK;AAC9B,aAAK,cAAc;MACpB,UAAU;AACT,aAAK,UAAU;AAAA,MAChB;AAAA,IACA;AAAA;AAAA,IAGD,gBAAgB,WAAW;AAC1BA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,2CAA2C,SAAS;AAAA,MAC1D,CAAC;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzIA,GAAG,WAAW,eAAe;"}