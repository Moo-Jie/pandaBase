{"version":3,"file":"redemption-detail.js","sources":["pages/redemption-detail/redemption-detail.vue","E:/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcmVkZW1wdGlvbi1kZXRhaWwvcmVkZW1wdGlvbi1kZXRhaWwudnVl"],"sourcesContent":["<template>\n  <view class=\"page\">\n    <view class=\"container\">\n      <!-- å¤´éƒ¨å•†å“ä¿¡æ¯ -->\n      <view class=\"header-section\">\n        <image class=\"header-bg-image\" :src=\"getBackgroundImage()\" mode=\"aspectFit\"></image>\n      </view>\n\n      <!-- è¯¦æƒ…ä¿¡æ¯å¡ç‰‡ -->\n      <view class=\"detail-card\">\n        <text class=\"product-name\">{{ record.productName }}</text>\n        <view class=\"status-tag\" :class=\"getStatusClass(record.status)\">\n          {{ record.statusText }}\n        </view>\n        <view class=\"info-item\" v-if=\"record.recordNo\">\n          <text class=\"label\">å…‘æ¢è®°å½•å·</text>\n          <text class=\"value\">{{ record.recordNo }}</text>\n        </view>\n\n        <view class=\"info-item\" v-if=\"record.redemptionCode\">\n          <text class=\"label\">å…‘æ¢ç </text>\n          <view class=\"code-wrapper\">\n            <text class=\"value code-text\">\n              {{ showRedemptionCode ? (record.fullRedemptionCode || record.redemptionCode) : record.redemptionCode }}\n            </text>\n            <image class=\"eye-icon\" :src=\"showRedemptionCode ? '/static/images/ççœ¼.png' : '/static/images/é—­çœ¼.png'\"\n                   mode=\"aspectFit\" @click=\"toggleRedemptionCode\"></image>\n          </view>\n        </view>\n\n        <view class=\"info-item\">\n          <text class=\"label\">å•†å“ç±»å‹</text>\n          <text class=\"value\">{{ record.productTypeText }}</text>\n        </view>\n\n        <view class=\"info-item\">\n          <text class=\"label\">å…‘æ¢æ—¶é—´</text>\n          <text class=\"value\">{{ formatDateTime(record.createTime) }}</text>\n        </view>\n\n        <view class=\"info-item\" v-if=\"record.completeTime\">\n          <text class=\"label\">å®Œæˆæ—¶é—´</text>\n          <text class=\"value\">{{ formatDateTime(record.completeTime) }}</text>\n        </view>\n\n        <view class=\"info-item\" v-if=\"record.trackingNumber\">\n          <text class=\"label\">ç‰©æµå•å·</text>\n          <text class=\"value tracking-text\">{{ record.trackingNumber }}</text>\n        </view>\n      </view>\n\n      <!-- ä¼šå‘˜å¡çŠ¶æ€ä¿¡æ¯ -->\n      <view class=\"status-card\" v-if=\"isMembershipCard\">\n        <view class=\"card-title\">\n          <text class=\"title-icon\">âœ“</text>\n          <text>çŠ¶æ€ä¿¡æ¯</text>\n        </view>\n        <view class=\"status-content\">\n          <text class=\"status-text\">å…‘æ¢æˆåŠŸ</text>\n          <text class=\"status-desc\">æ‚¨çš„ä¼šå‘˜å¡å·²æˆåŠŸæ¿€æ´»ï¼Œè¯·å‰å¾€ä¸ªäººä¸­å¿ƒæŸ¥çœ‹</text>\n        </view>\n      </view>\n\n      <!-- å®ä½“å•†å“æ ¸é”€ä¿¡æ¯ -->\n      <view class=\"verify-card\" v-if=\"isPhysicalProduct\">\n        <view class=\"card-title\">\n          <text class=\"title-icon\">ğŸ“¦</text>\n          <text>å®ä½“å•†å“å…‘æ¢è¯´æ˜</text>\n        </view>\n        <view class=\"verify-content\">\n          <view class=\"verify-item\">\n            <text class=\"verify-icon\">ğŸ“±</text>\n            <text class=\"verify-text\">è¯·è”ç³»å®¢æœå‡ºç¤ºå½“å‰å‡­è¯è¿›è¡Œçº¿ä¸‹å…‘æ¢</text>\n          </view>\n          <view class=\"verify-item\">\n            <text class=\"verify-icon\">â˜ï¸</text>\n            <text class=\"verify-text\">å®¢æœçƒ­çº¿ï¼š400-656-00555</text>\n          </view>\n          <view class=\"verify-item\">\n            <text class=\"verify-icon\">â„¹ï¸</text>\n            <text class=\"verify-text\">æ ¸é”€æ—¶è¯·æä¾›å…‘æ¢è®°å½•å·ï¼š{{ record.recordNo }}</text>\n          </view>\n        </view>\n        <!-- è”ç³»å®¢æœæŒ‰é’®ï¼ˆæ–°ç‰ˆAPIï¼‰ -->\n        <view class=\"contact-service-btn\" @click=\"handleContactServiceForVerify\" hover-class=\"button-hover\">\n          <text class=\"btn-emoji\">ğŸ’¬</text>\n          <text>è”ç³»å®¢æœæ ¸é”€</text>\n        </view>\n      </view>\n      \n      <!-- é€šç”¨å®¢æœå¸®åŠ©åŒºåŸŸ -->\n      <view class=\"service-help-section\">\n        <text class=\"help-tip\">å¯¹å…‘æ¢æœ‰ç–‘é—®ï¼Ÿ</text>\n        <view class=\"service-btn\" @click=\"handleContactService\" hover-class=\"button-hover\">\n          <text class=\"service-emoji\">ğŸ’¬</text>\n          <text>è”ç³»å®¢æœ</text>\n        </view>\n      </view>\n\n      <!-- æ¬¡å¡ä¿¡æ¯ TODO -->\n      <view class=\"todo-card\" v-if=\"isTicketCard\">\n        <view class=\"card-title\">\n          <text class=\"title-icon\">ğŸ«</text>\n          <text>æ¬¡å¡ä¿¡æ¯</text>\n        </view>\n        <view class=\"todo-content\">\n          <text class=\"todo-text\">æ¬¡å¡æ‰£å‡æœºåˆ¶å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…...</text>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nimport { openCustomerServiceForRedemption } from '../../utils/customer-service.js';\n\nexport default {\n  data() {\n    return {\n      record: {},\n      showRedemptionCode: false\n    }\n  },\n  computed: {\n    // æ˜¯å¦ä¸ºä¼šå‘˜å¡ï¼ˆå¹´å¡ã€æœˆå¡ï¼‰\n    isMembershipCard() {\n      return this.record.productType === 1 || this.record.productType === 2;\n    },\n    // æ˜¯å¦ä¸ºå®ä½“å•†å“\n    isPhysicalProduct() {\n      return this.record.productType === 4;\n    },\n    // æ˜¯å¦ä¸ºæ¬¡å¡\n    isTicketCard() {\n      return this.record.productType === 3;\n    }\n  },\n  onLoad(options) {\n    if (options.data) {\n      try {\n        this.record = JSON.parse(decodeURIComponent(options.data));\n      } catch (error) {\n        console.error('è§£æè®°å½•æ•°æ®å¤±è´¥:', error);\n        uni.showToast({\n          title: 'æ•°æ®åŠ è½½å¤±è´¥',\n          icon: 'none'\n        });\n      }\n    }\n  },\n  methods: {\n    // è·å–èƒŒæ™¯å›¾ç‰‡\n    getBackgroundImage() {\n      switch (this.record.productType) {\n        case 1:\n          return '/static/images/å¹´å¡VIP3.png'; // å¹´å¡\n        case 2:\n          return '/static/images/æœˆå¡VIP3.png'; // æœˆå¡\n        default:\n          return '/static/images/logo.png'; // å…¶ä»–\n      }\n    },\n\n    // è·å–å•†å“å›¾æ ‡\n    getProductIcon(productType) {\n      switch (productType) {\n        case 1:\n          return 'ğŸ«'; // å¹´å¡\n        case 2:\n          return 'ğŸŸï¸'; // æœˆå¡\n        case 3:\n          return 'ğŸª'; // æ¬¡ç¥¨\n        case 4:\n          return 'ğŸ'; // å®ç‰©\n        case 5:\n          return 'ğŸ“¦'; // ç»„åˆ\n        default:\n          return 'ğŸ';\n      }\n    },\n\n    // è·å–çŠ¶æ€æ ·å¼\n    getStatusClass(status) {\n      switch (status) {\n        case 0:\n          return 'status-processing';\n        case 1:\n          return 'status-completed';\n        case 2:\n          return 'status-shipped';\n        default:\n          return '';\n      }\n    },\n\n    // æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´\n    formatDateTime(dateTime) {\n      if (!dateTime) return '-';\n      const date = new Date(dateTime);\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, '0');\n      const day = String(date.getDate()).padStart(2, '0');\n      const hours = String(date.getHours()).padStart(2, '0');\n      const minutes = String(date.getMinutes()).padStart(2, '0');\n      return `${year}-${month}-${day} ${hours}:${minutes}`;\n    },\n\n    // åˆ‡æ¢å…‘æ¢ç æ˜¾ç¤º/éšè—\n    toggleRedemptionCode() {\n      this.showRedemptionCode = !this.showRedemptionCode;\n    },\n\n    // è”ç³»å®¢æœï¼ˆæ ¸é”€ä¸“ç”¨ï¼‰\n    handleContactServiceForVerify() {\n      openCustomerServiceForRedemption({\n        id: this.record.id,\n        code: this.record.redemptionCode,\n        recordNo: this.record.recordNo\n      });\n    },\n\n    // è”ç³»å®¢æœï¼ˆé€šç”¨ï¼‰\n    handleContactService() {\n      openCustomerServiceForRedemption({\n        id: this.record.id,\n        code: this.record.redemptionCode\n      });\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.page {\n  min-height: 100vh;\n  background: linear-gradient(180deg, #f5f5f5 0%, #ffffff 100%);\n}\n\n.container {\n  padding: 30rpx;\n}\n\n/* å¤´éƒ¨å•†å“ä¿¡æ¯ */\n.header-section {\n  position: relative;\n  background: #ffffff;\n  border-radius: 24rpx;\n  overflow: hidden;\n  margin-bottom: 20rpx;\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.08);\n  min-height: 400rpx;\n}\n\n.header-bg-image {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 0;\n}\n\n.header-content {\n  position: relative;\n  z-index: 1;\n  padding: 40rpx;\n  text-align: center;\n}\n\n.product-icon-wrapper {\n  width: 120rpx;\n  height: 120rpx;\n  margin: 0 auto 20rpx;\n  background: linear-gradient(135deg, #e8f5e0 0%, #d4ecc5 100%);\n  border-radius: 60rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.product-icon {\n  font-size: 64rpx;\n}\n\n.product-name {\n  display: block;\n  font-size: 36rpx;\n  font-weight: bold;\n  color: #333333;\n  margin-bottom: 16rpx;\n}\n\n.status-tag {\n  display: inline-block;\n  padding: 10rpx 24rpx;\n  border-radius: 20rpx;\n  font-size: 26rpx;\n  font-weight: 500;\n}\n\n.status-processing {\n  background-color: #fff9e6;\n  color: #f5a623;\n  border: 1rpx solid #f5a623;\n}\n\n.status-completed {\n  background-color: #f0f9f0;\n  color: #90d26c;\n  border: 1rpx solid #90d26c;\n}\n\n.status-shipped {\n  background-color: #f5f5f5;\n  color: #666666;\n  border: 1rpx solid #e0e0e0;\n}\n\n/* è¯¦æƒ…å¡ç‰‡ */\n.detail-card, .status-card, .verify-card, .todo-card {\n  background: #ffffff;\n  border-radius: 20rpx;\n  padding: 30rpx;\n  margin-bottom: 20rpx;\n  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\n}\n\n.card-title {\n  font-size: 32rpx;\n  font-weight: bold;\n  color: #333333;\n  margin-bottom: 24rpx;\n  padding-bottom: 16rpx;\n  border-bottom: 1rpx solid #f0f0f0;\n  display: flex;\n  align-items: center;\n}\n\n.title-icon {\n  font-size: 32rpx;\n  margin-right: 12rpx;\n}\n\n.info-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  padding: 20rpx 0;\n  border-bottom: 1rpx solid #f5f5f5;\n}\n\n.info-item:last-child {\n  border-bottom: none;\n}\n\n.label {\n  font-size: 28rpx;\n  color: #999999;\n  flex-shrink: 0;\n  margin-right: 30rpx;\n}\n\n.value {\n  font-size: 28rpx;\n  color: #333333;\n  text-align: right;\n  word-break: break-all;\n  flex: 1;\n}\n\n.code-wrapper {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  gap: 16rpx;\n}\n\n.code-text {\n  font-family: 'Courier New', monospace;\n  color: #90d26c;\n  font-weight: bold;\n}\n\n.eye-icon {\n  width: 32rpx;\n  height: 32rpx;\n  cursor: pointer;\n  flex-shrink: 0;\n}\n\n.tracking-text {\n  color: #666666;\n  font-weight: 500;\n}\n\n/* çŠ¶æ€ä¿¡æ¯å¡ç‰‡ */\n.status-content {\n  background: linear-gradient(135deg, #e8f5e0 0%, #ffffff 100%);\n  border-radius: 16rpx;\n  padding: 30rpx;\n  text-align: center;\n}\n\n.status-text {\n  display: block;\n  font-size: 40rpx;\n  font-weight: bold;\n  color: #297512;\n  margin-bottom: 16rpx;\n}\n\n.status-desc {\n  display: block;\n  font-size: 26rpx;\n  color: #666666;\n  line-height: 1.6;\n}\n\n/* æ ¸é”€ä¿¡æ¯å¡ç‰‡ */\n.verify-content {\n  background: #fff9e6;\n  border-radius: 16rpx;\n  padding: 24rpx;\n  border-left: 4rpx solid #f5a623;\n}\n\n.verify-item {\n  display: flex;\n  align-items: flex-start;\n  margin-bottom: 20rpx;\n}\n\n.verify-item:last-child {\n  margin-bottom: 0;\n}\n\n.verify-icon {\n  font-size: 28rpx;\n  margin-right: 12rpx;\n  flex-shrink: 0;\n}\n\n.verify-text {\n  font-size: 26rpx;\n  color: #666666;\n  line-height: 1.6;\n  flex: 1;\n}\n\n/* è”ç³»å®¢æœæŒ‰é’®ï¼ˆå®ä½“å•†å“æ ¸é”€ä¸“ç”¨ï¼‰ */\n.contact-service-btn {\n  width: 100%;\n  height: 80rpx;\n  background: linear-gradient(135deg, #4CAF50 0%, #297512 100%);\n  color: #ffffff;\n  font-size: 30rpx;\n  font-weight: bold;\n  border-radius: 40rpx;\n  border: none;\n  line-height: 80rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  margin-top: 30rpx;\n}\n\n.contact-service-btn::after {\n  border: none;\n}\n\n.btn-emoji {\n  margin-right: 8rpx;\n  font-size: 32rpx;\n}\n\n/* é€šç”¨å®¢æœå¸®åŠ©åŒºåŸŸ */\n.service-help-section {\n  background-color: #ffffff;\n  padding: 30rpx;\n  margin-top: 20rpx;\n  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\n  text-align: center;\n}\n\n.help-tip {\n  display: block;\n  font-size: 26rpx;\n  color: #999999;\n  margin-bottom: 20rpx;\n}\n\n.service-btn {\n  width: 100%;\n  height: 80rpx;\n  background: linear-gradient(135deg, #4CAF50 0%, #297512 100%);\n  color: #ffffff;\n  font-size: 30rpx;\n  font-weight: bold;\n  border-radius: 40rpx;\n  border: none;\n  line-height: 80rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n}\n\n.service-btn::after {\n  border: none;\n}\n\n.service-emoji {\n  margin-right: 8rpx;\n  font-size: 32rpx;\n}\n\n/* TODOå¡ç‰‡ */\n.todo-content {\n  background: #f5f5f5;\n  border-radius: 16rpx;\n  padding: 30rpx;\n  text-align: center;\n}\n\n.todo-text {\n  font-size: 28rpx;\n  color: #999999;\n  line-height: 1.8;\n}\n</style>\n\n","import MiniProgramPage from 'D:/AAA_idea_java/pandaBase/panda-base-uni-app/pages/redemption-detail/redemption-detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","openCustomerServiceForRedemption"],"mappings":";;;AAoHA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,QAAQ,CAAE;AAAA,MACV,oBAAoB;AAAA,IACtB;AAAA,EACD;AAAA,EACD,UAAU;AAAA;AAAA,IAER,mBAAmB;AACjB,aAAO,KAAK,OAAO,gBAAgB,KAAK,KAAK,OAAO,gBAAgB;AAAA,IACrE;AAAA;AAAA,IAED,oBAAoB;AAClB,aAAO,KAAK,OAAO,gBAAgB;AAAA,IACpC;AAAA;AAAA,IAED,eAAe;AACb,aAAO,KAAK,OAAO,gBAAgB;AAAA,IACrC;AAAA,EACD;AAAA,EACD,OAAO,SAAS;AACd,QAAI,QAAQ,MAAM;AAChB,UAAI;AACF,aAAK,SAAS,KAAK,MAAM,mBAAmB,QAAQ,IAAI,CAAC;AAAA,MACzD,SAAO,OAAO;AACdA,sBAAc,MAAA,MAAA,SAAA,wDAAA,aAAa,KAAK;AAChCA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QACR,CAAC;AAAA,MACH;AAAA,IACF;AAAA,EACD;AAAA,EACD,SAAS;AAAA;AAAA,IAEP,qBAAqB;AACnB,cAAQ,KAAK,OAAO,aAAW;AAAA,QAC7B,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AACH,iBAAO;AAAA,QACT;AACE,iBAAO;AAAA,MACX;AAAA,IACD;AAAA;AAAA,IAGD,eAAe,aAAa;AAC1B,cAAQ,aAAW;AAAA,QACjB,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AACH,iBAAO;AAAA,QACT;AACE,iBAAO;AAAA,MACX;AAAA,IACD;AAAA;AAAA,IAGD,eAAe,QAAQ;AACrB,cAAQ,QAAM;AAAA,QACZ,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AACH,iBAAO;AAAA,QACT;AACE,iBAAO;AAAA,MACX;AAAA,IACD;AAAA;AAAA,IAGD,eAAe,UAAU;AACvB,UAAI,CAAC;AAAU,eAAO;AACtB,YAAM,OAAO,IAAI,KAAK,QAAQ;AAC9B,YAAM,OAAO,KAAK;AAClB,YAAM,QAAQ,OAAO,KAAK,SAAQ,IAAK,CAAC,EAAE,SAAS,GAAG,GAAG;AACzD,YAAM,MAAM,OAAO,KAAK,QAAS,CAAA,EAAE,SAAS,GAAG,GAAG;AAClD,YAAM,QAAQ,OAAO,KAAK,SAAU,CAAA,EAAE,SAAS,GAAG,GAAG;AACrD,YAAM,UAAU,OAAO,KAAK,WAAY,CAAA,EAAE,SAAS,GAAG,GAAG;AACzD,aAAO,GAAG,IAAI,IAAI,KAAK,IAAI,GAAG,IAAI,KAAK,IAAI,OAAO;AAAA,IACnD;AAAA;AAAA,IAGD,uBAAuB;AACrB,WAAK,qBAAqB,CAAC,KAAK;AAAA,IACjC;AAAA;AAAA,IAGD,gCAAgC;AAC9BC,6DAAiC;AAAA,QAC/B,IAAI,KAAK,OAAO;AAAA,QAChB,MAAM,KAAK,OAAO;AAAA,QAClB,UAAU,KAAK,OAAO;AAAA,MACxB,CAAC;AAAA,IACF;AAAA;AAAA,IAGD,uBAAuB;AACrBA,6DAAiC;AAAA,QAC/B,IAAI,KAAK,OAAO;AAAA,QAChB,MAAM,KAAK,OAAO;AAAA,MACpB,CAAC;AAAA,IACH;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpOA,GAAG,WAAW,eAAe;"}