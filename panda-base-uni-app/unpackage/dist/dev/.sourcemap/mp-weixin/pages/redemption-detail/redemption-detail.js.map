{"version":3,"file":"redemption-detail.js","sources":["pages/redemption-detail/redemption-detail.vue","E:/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcmVkZW1wdGlvbi1kZXRhaWwvcmVkZW1wdGlvbi1kZXRhaWwudnVl"],"sourcesContent":["<template>\r\n  <view class=\"page\">\r\n    <view class=\"container\">\r\n      <!-- å¤´éƒ¨å•†å“ä¿¡æ¯ -->\r\n      <view class=\"header-section\">\r\n        <image class=\"header-bg-image\" :src=\"getBackgroundImage()\" mode=\"aspectFit\"></image>\r\n      </view>\r\n\r\n      <!-- è¯¦æƒ…ä¿¡æ¯å¡ç‰‡ -->\r\n      <view class=\"detail-card\">\r\n        <text class=\"product-name\">{{ record.productName }}</text>\r\n        <view class=\"status-tag\" :class=\"getStatusClass(record.status)\">\r\n          {{ record.statusText }}\r\n        </view>\r\n        <view class=\"info-item\" v-if=\"record.recordNo\">\r\n          <text class=\"label\">å…‘æ¢è®°å½•å·</text>\r\n          <text class=\"value\">{{ record.recordNo }}</text>\r\n        </view>\r\n\r\n        <view class=\"info-item\" v-if=\"record.redemptionCode\">\r\n          <text class=\"label\">å…‘æ¢ç </text>\r\n          <view class=\"code-wrapper\">\r\n            <text class=\"value code-text\">\r\n              {{ showRedemptionCode ? (record.fullRedemptionCode || record.redemptionCode) : record.redemptionCode }}\r\n            </text>\r\n            <image class=\"eye-icon\" :src=\"showRedemptionCode ? '/static/images/ççœ¼.png' : '/static/images/é—­çœ¼.png'\"\r\n                   mode=\"aspectFit\" @click=\"toggleRedemptionCode\"></image>\r\n          </view>\r\n        </view>\r\n\r\n        <view class=\"info-item\">\r\n          <text class=\"label\">å•†å“ç±»å‹</text>\r\n          <text class=\"value\">{{ record.productTypeText }}</text>\r\n        </view>\r\n\r\n        <view class=\"info-item\">\r\n          <text class=\"label\">å…‘æ¢æ—¶é—´</text>\r\n          <text class=\"value\">{{ formatDateTime(record.createTime) }}</text>\r\n        </view>\r\n\r\n        <view class=\"info-item\" v-if=\"record.completeTime\">\r\n          <text class=\"label\">å®Œæˆæ—¶é—´</text>\r\n          <text class=\"value\">{{ formatDateTime(record.completeTime) }}</text>\r\n        </view>\r\n\r\n        <view class=\"info-item\" v-if=\"record.trackingNumber\">\r\n          <text class=\"label\">ç‰©æµå•å·</text>\r\n          <text class=\"value tracking-text\">{{ record.trackingNumber }}</text>\r\n        </view>\r\n      </view>\r\n\r\n      <!-- ä¼šå‘˜å¡çŠ¶æ€ä¿¡æ¯ -->\r\n      <view class=\"status-card\" v-if=\"isMembershipCard\">\r\n        <view class=\"card-title\">\r\n          <text class=\"title-icon\">âœ“</text>\r\n          <text>çŠ¶æ€ä¿¡æ¯</text>\r\n        </view>\r\n        <view class=\"status-content\">\r\n          <text class=\"status-text\">å…‘æ¢æˆåŠŸ</text>\r\n          <text class=\"status-desc\">æ‚¨çš„ä¼šå‘˜å¡å·²æˆåŠŸæ¿€æ´»ï¼Œè¯·å‰å¾€ä¸ªäººä¸­å¿ƒæŸ¥çœ‹</text>\r\n        </view>\r\n      </view>\r\n\r\n      <!-- å®ä½“å•†å“æ ¸é”€ä¿¡æ¯ -->\r\n      <view class=\"verify-card\" v-if=\"isPhysicalProduct\">\r\n        <view class=\"card-title\">\r\n          <text class=\"title-icon\">ğŸ“¦</text>\r\n          <text>å®ä½“å•†å“å…‘æ¢è¯´æ˜</text>\r\n        </view>\r\n        <view class=\"verify-content\">\r\n          <view class=\"verify-item\">\r\n            <text class=\"verify-icon\">ğŸ“±</text>\r\n            <text class=\"verify-text\">è¯·è”ç³»å®¢æœå‡ºç¤ºå½“å‰å‡­è¯è¿›è¡Œçº¿ä¸‹å…‘æ¢</text>\r\n          </view>\r\n          <view class=\"verify-item\">\r\n            <text class=\"verify-icon\">â˜ï¸</text>\r\n            <text class=\"verify-text\">å®¢æœçƒ­çº¿ï¼š400-656-00555</text>\r\n          </view>\r\n          <view class=\"verify-item\">\r\n            <text class=\"verify-icon\">â„¹ï¸</text>\r\n            <text class=\"verify-text\">æ ¸é”€æ—¶è¯·æä¾›å…‘æ¢è®°å½•å·ï¼š{{ record.recordNo }}</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n\r\n      <!-- æ¬¡å¡ä¿¡æ¯ TODO -->\r\n      <view class=\"todo-card\" v-if=\"isTicketCard\">\r\n        <view class=\"card-title\">\r\n          <text class=\"title-icon\">ğŸ«</text>\r\n          <text>æ¬¡å¡ä¿¡æ¯</text>\r\n        </view>\r\n        <view class=\"todo-content\">\r\n          <text class=\"todo-text\">æ¬¡å¡æ‰£å‡æœºåˆ¶å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…...</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      record: {},\r\n      showRedemptionCode: false\r\n    }\r\n  },\r\n  computed: {\r\n    // æ˜¯å¦ä¸ºä¼šå‘˜å¡ï¼ˆå¹´å¡ã€æœˆå¡ï¼‰\r\n    isMembershipCard() {\r\n      return this.record.productType === 1 || this.record.productType === 2;\r\n    },\r\n    // æ˜¯å¦ä¸ºå®ä½“å•†å“\r\n    isPhysicalProduct() {\r\n      return this.record.productType === 4;\r\n    },\r\n    // æ˜¯å¦ä¸ºæ¬¡å¡\r\n    isTicketCard() {\r\n      return this.record.productType === 3;\r\n    }\r\n  },\r\n  onLoad(options) {\r\n    if (options.data) {\r\n      try {\r\n        this.record = JSON.parse(decodeURIComponent(options.data));\r\n      } catch (error) {\r\n        console.error('è§£æè®°å½•æ•°æ®å¤±è´¥:', error);\r\n        uni.showToast({\r\n          title: 'æ•°æ®åŠ è½½å¤±è´¥',\r\n          icon: 'none'\r\n        });\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // è·å–èƒŒæ™¯å›¾ç‰‡\r\n    getBackgroundImage() {\r\n      switch (this.record.productType) {\r\n        case 1:\r\n          return '/static/images/å¹´å¡VIP3.png'; // å¹´å¡\r\n        case 2:\r\n          return '/static/images/æœˆå¡VIP3.png'; // æœˆå¡\r\n        default:\r\n          return '/static/images/logo.png'; // å…¶ä»–\r\n      }\r\n    },\r\n\r\n    // è·å–å•†å“å›¾æ ‡\r\n    getProductIcon(productType) {\r\n      switch (productType) {\r\n        case 1:\r\n          return 'ğŸ«'; // å¹´å¡\r\n        case 2:\r\n          return 'ğŸŸï¸'; // æœˆå¡\r\n        case 3:\r\n          return 'ğŸª'; // æ¬¡ç¥¨\r\n        case 4:\r\n          return 'ğŸ'; // å®ç‰©\r\n        case 5:\r\n          return 'ğŸ“¦'; // ç»„åˆ\r\n        default:\r\n          return 'ğŸ';\r\n      }\r\n    },\r\n\r\n    // è·å–çŠ¶æ€æ ·å¼\r\n    getStatusClass(status) {\r\n      switch (status) {\r\n        case 0:\r\n          return 'status-processing';\r\n        case 1:\r\n          return 'status-completed';\r\n        case 2:\r\n          return 'status-shipped';\r\n        default:\r\n          return '';\r\n      }\r\n    },\r\n\r\n    // æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´\r\n    formatDateTime(dateTime) {\r\n      if (!dateTime) return '-';\r\n      const date = new Date(dateTime);\r\n      const year = date.getFullYear();\r\n      const month = String(date.getMonth() + 1).padStart(2, '0');\r\n      const day = String(date.getDate()).padStart(2, '0');\r\n      const hours = String(date.getHours()).padStart(2, '0');\r\n      const minutes = String(date.getMinutes()).padStart(2, '0');\r\n      return `${year}-${month}-${day} ${hours}:${minutes}`;\r\n    },\r\n\r\n    // åˆ‡æ¢å…‘æ¢ç æ˜¾ç¤º/éšè—\r\n    toggleRedemptionCode() {\r\n      this.showRedemptionCode = !this.showRedemptionCode;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.page {\r\n  min-height: 100vh;\r\n  background: linear-gradient(180deg, #f5f5f5 0%, #ffffff 100%);\r\n}\r\n\r\n.container {\r\n  padding: 30rpx;\r\n}\r\n\r\n/* å¤´éƒ¨å•†å“ä¿¡æ¯ */\r\n.header-section {\r\n  position: relative;\r\n  background: #ffffff;\r\n  border-radius: 24rpx;\r\n  overflow: hidden;\r\n  margin-bottom: 20rpx;\r\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.08);\r\n  min-height: 400rpx;\r\n}\r\n\r\n.header-bg-image {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 0;\r\n}\r\n\r\n.header-content {\r\n  position: relative;\r\n  z-index: 1;\r\n  padding: 40rpx;\r\n  text-align: center;\r\n}\r\n\r\n.product-icon-wrapper {\r\n  width: 120rpx;\r\n  height: 120rpx;\r\n  margin: 0 auto 20rpx;\r\n  background: linear-gradient(135deg, #e8f5e0 0%, #d4ecc5 100%);\r\n  border-radius: 60rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.product-icon {\r\n  font-size: 64rpx;\r\n}\r\n\r\n.product-name {\r\n  display: block;\r\n  font-size: 36rpx;\r\n  font-weight: bold;\r\n  color: #333333;\r\n  margin-bottom: 16rpx;\r\n}\r\n\r\n.status-tag {\r\n  display: inline-block;\r\n  padding: 10rpx 24rpx;\r\n  border-radius: 20rpx;\r\n  font-size: 26rpx;\r\n  font-weight: 500;\r\n}\r\n\r\n.status-processing {\r\n  background-color: #fff9e6;\r\n  color: #f5a623;\r\n  border: 1rpx solid #f5a623;\r\n}\r\n\r\n.status-completed {\r\n  background-color: #f0f9f0;\r\n  color: #90d26c;\r\n  border: 1rpx solid #90d26c;\r\n}\r\n\r\n.status-shipped {\r\n  background-color: #f5f5f5;\r\n  color: #666666;\r\n  border: 1rpx solid #e0e0e0;\r\n}\r\n\r\n/* è¯¦æƒ…å¡ç‰‡ */\r\n.detail-card, .status-card, .verify-card, .todo-card {\r\n  background: #ffffff;\r\n  border-radius: 20rpx;\r\n  padding: 30rpx;\r\n  margin-bottom: 20rpx;\r\n  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.card-title {\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  color: #333333;\r\n  margin-bottom: 24rpx;\r\n  padding-bottom: 16rpx;\r\n  border-bottom: 1rpx solid #f0f0f0;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.title-icon {\r\n  font-size: 32rpx;\r\n  margin-right: 12rpx;\r\n}\r\n\r\n.info-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  padding: 20rpx 0;\r\n  border-bottom: 1rpx solid #f5f5f5;\r\n}\r\n\r\n.info-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.label {\r\n  font-size: 28rpx;\r\n  color: #999999;\r\n  flex-shrink: 0;\r\n  margin-right: 30rpx;\r\n}\r\n\r\n.value {\r\n  font-size: 28rpx;\r\n  color: #333333;\r\n  text-align: right;\r\n  word-break: break-all;\r\n  flex: 1;\r\n}\r\n\r\n.code-wrapper {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  gap: 16rpx;\r\n}\r\n\r\n.code-text {\r\n  font-family: 'Courier New', monospace;\r\n  color: #90d26c;\r\n  font-weight: bold;\r\n}\r\n\r\n.eye-icon {\r\n  width: 32rpx;\r\n  height: 32rpx;\r\n  cursor: pointer;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.tracking-text {\r\n  color: #666666;\r\n  font-weight: 500;\r\n}\r\n\r\n/* çŠ¶æ€ä¿¡æ¯å¡ç‰‡ */\r\n.status-content {\r\n  background: linear-gradient(135deg, #e8f5e0 0%, #ffffff 100%);\r\n  border-radius: 16rpx;\r\n  padding: 30rpx;\r\n  text-align: center;\r\n}\r\n\r\n.status-text {\r\n  display: block;\r\n  font-size: 40rpx;\r\n  font-weight: bold;\r\n  color: #297512;\r\n  margin-bottom: 16rpx;\r\n}\r\n\r\n.status-desc {\r\n  display: block;\r\n  font-size: 26rpx;\r\n  color: #666666;\r\n  line-height: 1.6;\r\n}\r\n\r\n/* æ ¸é”€ä¿¡æ¯å¡ç‰‡ */\r\n.verify-content {\r\n  background: #fff9e6;\r\n  border-radius: 16rpx;\r\n  padding: 24rpx;\r\n  border-left: 4rpx solid #f5a623;\r\n}\r\n\r\n.verify-item {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.verify-item:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.verify-icon {\r\n  font-size: 28rpx;\r\n  margin-right: 12rpx;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.verify-text {\r\n  font-size: 26rpx;\r\n  color: #666666;\r\n  line-height: 1.6;\r\n  flex: 1;\r\n}\r\n\r\n/* TODOå¡ç‰‡ */\r\n.todo-content {\r\n  background: #f5f5f5;\r\n  border-radius: 16rpx;\r\n  padding: 30rpx;\r\n  text-align: center;\r\n}\r\n\r\n.todo-text {\r\n  font-size: 28rpx;\r\n  color: #999999;\r\n  line-height: 1.8;\r\n}\r\n</style>\r\n\r\n","import MiniProgramPage from 'D:/AAA_idea_java/pandaBase/panda-base-uni-app/pages/redemption-detail/redemption-detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AAoGA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,QAAQ,CAAE;AAAA,MACV,oBAAoB;AAAA,IACtB;AAAA,EACD;AAAA,EACD,UAAU;AAAA;AAAA,IAER,mBAAmB;AACjB,aAAO,KAAK,OAAO,gBAAgB,KAAK,KAAK,OAAO,gBAAgB;AAAA,IACrE;AAAA;AAAA,IAED,oBAAoB;AAClB,aAAO,KAAK,OAAO,gBAAgB;AAAA,IACpC;AAAA;AAAA,IAED,eAAe;AACb,aAAO,KAAK,OAAO,gBAAgB;AAAA,IACrC;AAAA,EACD;AAAA,EACD,OAAO,SAAS;AACd,QAAI,QAAQ,MAAM;AAChB,UAAI;AACF,aAAK,SAAS,KAAK,MAAM,mBAAmB,QAAQ,IAAI,CAAC;AAAA,MACzD,SAAO,OAAO;AACdA,sBAAA,MAAA,MAAA,SAAA,wDAAc,aAAa,KAAK;AAChCA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QACR,CAAC;AAAA,MACH;AAAA,IACF;AAAA,EACD;AAAA,EACD,SAAS;AAAA;AAAA,IAEP,qBAAqB;AACnB,cAAQ,KAAK,OAAO,aAAW;AAAA,QAC7B,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AACH,iBAAO;AAAA,QACT;AACE,iBAAO;AAAA,MACX;AAAA,IACD;AAAA;AAAA,IAGD,eAAe,aAAa;AAC1B,cAAQ,aAAW;AAAA,QACjB,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AACH,iBAAO;AAAA,QACT;AACE,iBAAO;AAAA,MACX;AAAA,IACD;AAAA;AAAA,IAGD,eAAe,QAAQ;AACrB,cAAQ,QAAM;AAAA,QACZ,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AACH,iBAAO;AAAA,QACT;AACE,iBAAO;AAAA,MACX;AAAA,IACD;AAAA;AAAA,IAGD,eAAe,UAAU;AACvB,UAAI,CAAC;AAAU,eAAO;AACtB,YAAM,OAAO,IAAI,KAAK,QAAQ;AAC9B,YAAM,OAAO,KAAK;AAClB,YAAM,QAAQ,OAAO,KAAK,SAAQ,IAAK,CAAC,EAAE,SAAS,GAAG,GAAG;AACzD,YAAM,MAAM,OAAO,KAAK,QAAS,CAAA,EAAE,SAAS,GAAG,GAAG;AAClD,YAAM,QAAQ,OAAO,KAAK,SAAU,CAAA,EAAE,SAAS,GAAG,GAAG;AACrD,YAAM,UAAU,OAAO,KAAK,WAAY,CAAA,EAAE,SAAS,GAAG,GAAG;AACzD,aAAO,GAAG,IAAI,IAAI,KAAK,IAAI,GAAG,IAAI,KAAK,IAAI,OAAO;AAAA,IACnD;AAAA;AAAA,IAGD,uBAAuB;AACrB,WAAK,qBAAqB,CAAC,KAAK;AAAA,IAClC;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnMA,GAAG,WAAW,eAAe;"}