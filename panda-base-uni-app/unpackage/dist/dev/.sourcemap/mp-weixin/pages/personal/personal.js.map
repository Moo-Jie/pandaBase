{"version":3,"file":"personal.js","sources":["pages/personal/personal.vue","E:/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcGVyc29uYWwvcGVyc29uYWwudnVl"],"sourcesContent":["<template>\n  <view class=\"page\">\n    <!-- È°∂ÈÉ®Áî®Êà∑‰ø°ÊÅØÂå∫ -->\n    <view class=\"user-header\">\n      <view class=\"user-info\" v-if=\"isLoggedIn\">\n        <image class=\"avatar\" :src=\"getAvatarUrl()\" mode=\"aspectFill\"></image>\n        <view class=\"info\">\n          <text class=\"nickname\">{{ userInfo.nickname || 'ÁÜäÁå´Áà±Â•ΩËÄÖ' }}</text>\n          <text class=\"account\">Ë¥¶Âè∑Ôºö{{ userInfo.account || 'Êú™ËÆæÁΩÆ' }}</text>\n        </view>\n        <button class=\"logout-btn-small\" @click=\"handleLogout\">ÈÄÄÂá∫ÁôªÂΩï</button>\n      </view>\n      <view class=\"login-prompt\" v-else @click=\"goLogin\">\n        <view class=\"panda-icon\">üêº</view>\n        <view class=\"info\">\n          <text class=\"nickname\">ÁÇπÂáªÁôªÂΩï</text>\n          <text class=\"account\">ÁôªÂΩïÂêéÊü•ÁúãÊõ¥Â§öÂäüËÉΩ</text>\n        </view>\n        <text class=\"arrow\">‚Ä∫</text>\n      </view>\n    </view>\n\n    <!-- ‰ºöÂëòÂç°ÁâáÂå∫ -->\n    <view class=\"card-section\" v-if=\"isLoggedIn\">\n      <!-- ‰ºöÂëòÂç°ËÉåÊôØÂõæÁâá -->\n      <view class=\"membership-card-wrapper\">\n        <image\n            class=\"membership-bg\"\n            :src=\"getMembershipCardImage()\"\n            mode=\"widthFix\"\n        ></image>\n        <!-- ÊúâÊïàÊúüÊòæÁ§∫ -->\n        <view class=\"card-validity\" v-if=\"membershipStatus !== 'ÊöÇÊó†‰ºöÂëò'\">\n          <text class=\"validity-text\">ÊúâÊïàÊúüËá≥Ôºö{{ validityDate }}</text>\n        </view>\n      </view>\n\n      <!-- ÂõæÁâáÊåâÈíÆÂå∫Âüü - Ë¥≠‰π∞ËÆ¢ÂçïÂíåÂÖëÊç¢ËÆ∞ÂΩï -->\n      <view class=\"image-buttons\">\n        <view class=\"image-btn-item\" @click=\"handleMenuClick('orders')\">\n          <image class=\"btn-image\" src=\"/static/images/Ë¥≠‰π∞ËÆ¢ÂçïÊåâÈíÆ.png\" mode=\"widthFix\"></image>\n        </view>\n        <view class=\"image-btn-item\" @click=\"handleMenuClick('redemption')\">\n          <image class=\"btn-image\" src=\"/static/images/ÂÖëÊç¢ËÆ∞ÂΩïÊåâÈíÆ.png\" mode=\"widthFix\"></image>\n        </view>\n      </view>\n\n      <!-- Á§ºÂìÅÂÖëÊç¢Âå∫Âüü -->\n      <view class=\"redeem-section\">\n        <view class=\"redeem-header\">\n          <text class=\"redeem-icon\">üìÑ</text>\n          <text class=\"redeem-title\">Á§ºÂìÅÂÖëÊç¢</text>\n        </view>\n        <view class=\"redeem-content\">\n          <view class=\"redeem-tips\">\n            <text class=\"tip-item\">‚Ä¢ ËæìÂÖ•ÂÖëÊç¢Á†ÅÊó∂ËØ∑Ê≥®ÊÑèÔºåÂØÜÁ†Å‰∏≠Ê≤°ÊúâÂ≠óÊØçO„ÄÅRÔºåÂêåÊó∂Ê≥®ÊÑèC„ÄÅD‰∏éÊï∞Â≠óOÁöÑÂå∫Âà´ÔºåÊ≥®ÊÑèÂå∫ÂàÜ8‰∏éBÔºõ</text>\n            <text class=\"tip-item\">‚Ä¢ ÂÖëÊç¢Á†ÅÂú®ÊàêÂäüÁªëÂÆöÂêéÔºå‰∏çËÉΩËß£ÁªëÔºå‰∏çËÉΩÈáçÊñ∞ÁªëÂÆöÔºõ</text>\n            <text class=\"tip-item\">‚Ä¢ Ëã•ÊúâÂÖ∂ÂÆÉÈóÆÈ¢òÔºåËØ∑ËÅîÁ≥ªÁ§ºÂìÅÂç°ÁÉ≠Á∫øÂÆ¢Êúç400-656-00555</text>\n          </view>\n          <view class=\"redeem-input-area\">\n            <input\n                class=\"redeem-input\"\n                v-model=\"redeemCode\"\n                placeholder=\"ËØ∑ËæìÂÖ•ÂÖëÊç¢Á†Å\"\n                maxlength=\"64\"\n            />\n            <button class=\"redeem-btn\" @click=\"handleRedeem\" :disabled=\"!redeemCode\" hover-class=\"button-hover\">\n              ÂÖëÊç¢\n            </button>\n          </view>\n        </view>\n      </view>\n    </view>\n\n    <!-- ÂäüËÉΩËèúÂçï -->\n    <view class=\"menu-section\">\n\t\t\t<view class=\"menu-group\">\n\t\t\t\t<view class=\"menu-list\">\n\t\t\t\t\t<view class=\"menu-item\" @click=\"handleMenuClick('address')\" hover-class=\"menu-hover\">\n\t\t\t\t\t\t<view class=\"menu-left\">\n\t\t\t\t\t\t\t<text class=\"menu-emoji\">üìç</text>\n\t\t\t\t\t\t\t<text class=\"menu-title\">Âú∞ÂùÄÁÆ°ÁêÜ</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"menu-arrow\">‚Ä∫</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<!-- ÁÆ°ÁêÜÂëòÂäüËÉΩÔºöÂØºÂá∫Êä•Ë°® -->\n\t\t\t\t\t<view v-if=\"isAdmin\" class=\"menu-item\" @click=\"handleMenuClick('export')\" hover-class=\"menu-hover\">\n\t\t\t\t\t\t<view class=\"menu-left\">\n\t\t\t\t\t\t\t<text class=\"menu-emoji\">üìä</text>\n\t\t\t\t\t\t\t<text class=\"menu-title\">ÂØºÂá∫Êä•Ë°®</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"menu-arrow\">‚Ä∫</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<!-- Ë∂ÖÁ∫ßÁÆ°ÁêÜÂëòÂäüËÉΩÔºöÂº∫Âà∂Ë°•Âçï -->\n\t\t\t\t\t<view v-if=\"isSuperAdmin\" class=\"menu-item\" @click=\"handleMenuClick('adminRepair')\" hover-class=\"menu-hover\">\n\t\t\t\t\t\t<view class=\"menu-left\">\n\t\t\t\t\t\t\t<text class=\"menu-emoji\">üîß</text>\n\t\t\t\t\t\t\t<text class=\"menu-title\">Âº∫Âà∂Ë°•Âçï</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"menu-arrow\">‚Ä∫</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<!-- ÂÆ¢ÊúçÊåâÈíÆÔºö‰ΩøÁî®Êñ∞ÁâàÂæÆ‰ø°ÂÆ¢ÊúçAPIÔºàÈÄÇÈÖçPCÂæÆ‰ø°4.0.6+Ôºâ -->\n          <view class=\"menu-item\" @click=\"handleContactService\" hover-class=\"menu-hover\">\n            <view class=\"menu-left\">\n              <text class=\"menu-emoji\">üí¨</text>\n              <text class=\"menu-title\">ËÅîÁ≥ªÂÆ¢Êúç</text>\n            </view>\n            <text class=\"menu-arrow\">‚Ä∫</text>\n          </view>\n\t\t\t\t</view>\n\t\t\t</view>\n    </view>\n\n\n  </view>\n</template>\n\n<script>\nimport {getLoginUser, logout} from '../../api/user.js';\nimport {getMyMembershipCards} from '../../api/membershipCard.js';\nimport {redeemCode} from '../../api/redemption.js';\nimport {isLoggedIn, getUserInfo, clearUserInfo} from '../../utils/auth.js';\nimport {openCustomerServiceGeneral} from '../../utils/customer-service.js';\n\nexport default {\n  data() {\n    return {\n      isLoggedIn: false,\n      userInfo: {},\n      membershipStatus: 'ÊöÇÊó†‰ºöÂëò',\n      membershipDesc: 'Ë¥≠‰π∞Âπ¥Âç°ÊàñÊúàÂç°ÔºåÂ∞ä‰∫´‰ºöÂëòÊùÉÁõä',\n      membershipCards: [],\n      membershipCardType: 0, // ‰ºöÂëòÂç°Á±ªÂûãÔºö1-Âπ¥Âç° 2-ÊúàÂç° 0-Êó†\n      validityDate: '', // ‰ºöÂëòÊúâÊïàÊúü\n      redeemCode: '' // ÂÖëÊç¢Á†Å\n    }\n  },\n  computed: {\n    // Âà§Êñ≠ÊòØÂê¶‰∏∫ÁÆ°ÁêÜÂëò\n    isAdmin() {\n      return this.userInfo && (this.userInfo.role === 2 || this.userInfo.role === 3);\n    },\n    // Âà§Êñ≠ÊòØÂê¶‰∏∫Ë∂ÖÁ∫ßÁÆ°ÁêÜÂëò\n    isSuperAdmin() {\n      return this.userInfo && this.userInfo.role === 3;\n    }\n  },\n  onShow() {\n    // ÊØèÊ¨°ÊòæÁ§∫È°µÈù¢Êó∂Ê£ÄÊü•ÁôªÂΩïÁä∂ÊÄÅ\n    this.checkLoginStatus();\n  },\n  methods: {\n    // Ëé∑ÂèñÂ§¥ÂÉèURLÔºàÂ§ÑÁêÜÂçèËÆÆÂâçÁºÄÔºâ\n    getAvatarUrl() {\n      if (!this.userInfo.avatarUrl) {\n        return '/static/images/logo.png';\n      }\n      \n      const url = this.userInfo.avatarUrl;\n      \n      // Â¶ÇÊûúÂ∑≤ÁªèÂåÖÂê´http://Êàñhttps://ÂçèËÆÆÔºåÁõ¥Êé•ËøîÂõû\n      if (url.startsWith('http://') || url.startsWith('https://')) {\n        return url;\n      }\n      \n      // Â¶ÇÊûú‰∏çÂåÖÂê´ÂçèËÆÆ‰ΩÜÂåÖÂê´ÂüüÂêçÔºà‰æãÂ¶ÇÔºöpanda-base-server.oss-cn-beijing.aliyuncs.com/...Ôºâ\n      // ÂàôÊ∑ªÂä†https://ÂâçÁºÄ\n      if (url.includes('.')) {\n        return 'https://' + url;\n      }\n      \n      // Âê¶ÂàôÂΩì‰ΩúÁõ∏ÂØπË∑ØÂæÑÂ§ÑÁêÜ\n      return url;\n    },\n\n    // Ê£ÄÊü•ÁôªÂΩïÁä∂ÊÄÅ\n    async checkLoginStatus() {\n      this.isLoggedIn = isLoggedIn();\n      if (this.isLoggedIn) {\n        this.userInfo = getUserInfo() || {};\n        // ÂèØ‰ª•Ë∞ÉÁî®Êé•Âè£Ëé∑ÂèñÊúÄÊñ∞Áî®Êà∑‰ø°ÊÅØ\n        try {\n          const result = await getLoginUser();\n          if (result) {\n            this.userInfo = result;\n          }\n\n          // Ëé∑Âèñ‰ºöÂëòÂç°‰ø°ÊÅØ\n          await this.loadMembershipCards();\n        } catch (error) {\n          console.error('Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØÂ§±Ë¥•:', error);\n          // Â¶ÇÊûúËé∑ÂèñÂ§±Ë¥•ÔºåÂèØËÉΩÊòØÁôªÂΩïËøáÊúü\n          this.isLoggedIn = false;\n          clearUserInfo();\n        }\n      }\n    },\n\n    // Âä†ËΩΩ‰ºöÂëòÂç°‰ø°ÊÅØ\n    async loadMembershipCards() {\n      try {\n        const result = await getMyMembershipCards();\n        this.membershipCards = result || [];\n\n        // Ê£ÄÊü•ÊòØÂê¶ÊúâÊúâÊïà‰ºöÂëòÂç°\n        const validCards = this.membershipCards.filter(card => {\n          return card.status === 1 && new Date(card.endTime) > new Date();\n        });\n\n        if (validCards.length > 0) {\n          // ÊâæÂà∞ÊúÄ‰ºòÁöÑ‰ºöÂëòÂç°ÔºàÂπ¥Âç° > ÊúàÂç° > Ê¨°Á•®Ôºâ\n          const bestCard = validCards.reduce((best, current) => {\n            if (!best || current.cardType < best.cardType) {\n              return current;\n            }\n            return best;\n          }, null);\n\n          if (bestCard) {\n            this.membershipStatus = bestCard.cardTypeText;\n            this.membershipCardType = bestCard.cardType; // ‰øùÂ≠ò‰ºöÂëòÂç°Á±ªÂûã\n\n            // Ê†ºÂºèÂåñÊúâÊïàÊúü\n            const endTime = new Date(bestCard.endTime);\n            const year = endTime.getFullYear();\n            const month = String(endTime.getMonth() + 1).padStart(2, '0');\n            const day = String(endTime.getDate()).padStart(2, '0');\n            this.validityDate = `${year}-${month}-${day}`;\n\n            // ËÆ°ÁÆóÂâ©‰ΩôÂ§©Êï∞\n            const now = new Date();\n            const diffDays = Math.ceil((endTime - now) / (1000 * 60 * 60 * 24));\n\n            if (bestCard.cardType === 3) {\n              // Ê¨°Á•®ÊòæÁ§∫Ââ©‰ΩôÊ¨°Êï∞\n              const remainCount = (bestCard.totalCount || 0) - (bestCard.usedCount || 0);\n              this.membershipDesc = `Ââ©‰Ωô ${remainCount} Ê¨°ÔºåÊúâÊïàÊúüËá≥ ${this.formatDate(bestCard.endTime)}`;\n            } else {\n              // Âπ¥Âç°/ÊúàÂç°ÊòæÁ§∫Ââ©‰ΩôÂ§©Êï∞\n              this.membershipDesc = `ÊúâÊïàÊúüËá≥ ${this.formatDate(bestCard.endTime)}ÔºåÂâ©‰Ωô ${diffDays} Â§©`;\n            }\n          }\n        } else {\n          this.membershipStatus = 'ÊöÇÊó†‰ºöÂëò';\n          this.membershipDesc = 'Ë¥≠‰π∞Âπ¥Âç°ÊàñÊúàÂç°ÔºåÂ∞ä‰∫´‰ºöÂëòÊùÉÁõä';\n          this.membershipCardType = 0; // ÈáçÁΩÆ‰ºöÂëòÂç°Á±ªÂûã\n          this.validityDate = '';\n        }\n      } catch (error) {\n        console.error('Ëé∑Âèñ‰ºöÂëòÂç°‰ø°ÊÅØÂ§±Ë¥•:', error);\n      }\n    },\n\n    // Ê†ºÂºèÂåñÊó•Êúü\n    formatDate(dateTime) {\n      if (!dateTime) return '';\n      const date = new Date(dateTime);\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, '0');\n      const day = String(date.getDate()).padStart(2, '0');\n      return `${year}-${month}-${day}`;\n    },\n\n    // Ë∑≥ËΩ¨ÁôªÂΩï\n    goLogin() {\n      uni.navigateTo({\n        url: '/pages/login/login'\n      });\n    },\n\n    // Â§ÑÁêÜËèúÂçïÁÇπÂáª\n    handleMenuClick(type) {\n      if (!this.isLoggedIn) {\n        uni.showModal({\n          title: 'ÊèêÁ§∫',\n          content: 'ËØ∑ÂÖàÁôªÂΩïÂêé‰ΩøÁî®',\n          confirmText: 'ÂéªÁôªÂΩï',\n          success: (res) => {\n            if (res.confirm) {\n              this.goLogin();\n            }\n          }\n        });\n        return;\n      }\n\n      switch (type) {\n        case 'orders':\n          uni.navigateTo({\n            url: '/pages/my-orders/my-orders'\n          });\n          break;\n        case 'redemption':\n          uni.navigateTo({\n            url: '/pages/redemption-records/redemption-records'\n          });\n          break;\n        case 'address':\n          uni.navigateTo({\n            url: '/pages/address-list/address-list'\n          });\n          break;\n        case 'export':\n          // ÁÆ°ÁêÜÂëòÔºöÂØºÂá∫Êä•Ë°®\n          uni.navigateTo({\n            url: '/pages/export-report/export-report'\n          });\n          break;\n        case 'adminRepair':\n          // Ë∂ÖÁ∫ßÁÆ°ÁêÜÂëòÔºöÂº∫Âà∂Ë°•Âçï\n          uni.navigateTo({\n            url: '/pages/admin-repair-order/admin-repair-order'\n          });\n          break;\n        case 'exchange':\n          // Â∑≤Êîπ‰∏∫È°µÈù¢ÂÜÖÁõ¥Êé•ÂÖëÊç¢Ôºå‰∏çÂÜçË∑≥ËΩ¨\n          uni.showToast({\n            title: 'ËØ∑Âú®‰∏ãÊñπËæìÂÖ•ÂÖëÊç¢Á†Å',\n            icon: 'none'\n          });\n          break;\n      }\n    },\n\n    // ÈÄÄÂá∫ÁôªÂΩï\n    async handleLogout() {\n      uni.showModal({\n        title: 'ÊèêÁ§∫',\n        content: 'Á°ÆÂÆöË¶ÅÈÄÄÂá∫ÁôªÂΩïÂêóÔºü',\n        success: async (res) => {\n          if (res.confirm) {\n            try {\n              await logout();\n              clearUserInfo();\n              this.isLoggedIn = false;\n              this.userInfo = {};\n              this.membershipStatus = 'ÊöÇÊó†‰ºöÂëò';\n              this.membershipDesc = 'Ë¥≠‰π∞Âπ¥Âç°ÊàñÊúàÂç°ÔºåÂ∞ä‰∫´‰ºöÂëòÊùÉÁõä';\n              uni.showToast({\n                title: 'Â∑≤ÈÄÄÂá∫ÁôªÂΩï',\n                icon: 'success'\n              });\n            } catch (error) {\n              console.error('ÈÄÄÂá∫ÁôªÂΩïÂ§±Ë¥•:', error);\n              // Âç≥‰ΩøÂêéÁ´ØË∞ÉÁî®Â§±Ë¥•Ôºå‰πüÊ∏ÖÈô§Êú¨Âú∞ÁôªÂΩïÁä∂ÊÄÅ\n              clearUserInfo();\n              this.isLoggedIn = false;\n              this.userInfo = {};\n            }\n          }\n        }\n      });\n    },\n\n    // Ëé∑Âèñ‰ºöÂëòÂç°ËÉåÊôØÂõæÁâá\n    getMembershipCardImage() {\n      console.log('ÂΩìÂâç‰ºöÂëòÂç°Á±ªÂûã:', this.membershipCardType);\n\n      if (this.membershipCardType === 1) {\n        return '/static/images/Âπ¥Âç°VIP3.png';\n      } else if (this.membershipCardType === 2) {\n        return '/static/images/ÊúàÂç°VIP3.png';\n      } else {\n        // Êó†‰ºöÂëòÈªòËÆ§ÊòæÁ§∫Âπ¥Âç°\n        return '/static/images/ÈùûVIP.png';\n      }\n    },\n\n    // ÂÖëÊç¢Á§ºÂìÅ\n    async handleRedeem() {\n      if (!this.redeemCode || this.redeemCode.trim() === '') {\n        uni.showToast({\n          title: 'ËØ∑ËæìÂÖ•ÂÖëÊç¢Á†Å',\n          icon: 'none'\n        });\n        return;\n      }\n\n      try {\n        uni.showLoading({\n          title: 'ÂÖëÊç¢‰∏≠...',\n          mask: true\n        });\n\n        // Ë∞ÉÁî®ÂÖëÊç¢Êé•Âè£\n        await redeemCode({\n          code: this.redeemCode.trim()\n        });\n\n        uni.hideLoading();\n        uni.showToast({\n          title: 'ÂÖëÊç¢ÊàêÂäü',\n          icon: 'success',\n          duration: 1500\n        });\n\n        // Ê∏ÖÁ©∫ËæìÂÖ•Ê°Ü\n        this.redeemCode = '';\n\n        // Âà∑Êñ∞‰ºöÂëòÂç°‰ø°ÊÅØ\n        this.loadMembershipCards();\n\n        // Âª∂ËøüË∑≥ËΩ¨Âà∞ÂÖëÊç¢ËÆ∞ÂΩïÈ°µÈù¢\n        setTimeout(() => {\n          uni.navigateTo({\n            url: '/pages/redemption-records/redemption-records'\n          });\n        }, 1500);\n\n      } catch (error) {\n        uni.hideLoading();\n        console.error('ÂÖëÊç¢Â§±Ë¥•:', error);\n      }\n    },\n\n    // ËÅîÁ≥ªÂÆ¢ÊúçÔºàÊñ∞ÁâàAPIÔºâ\n    handleContactService() {\n      openCustomerServiceGeneral();\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.page {\n  min-height: 100vh;\n  background-color: #f5f5f5;\n}\n\n/* Áî®Êà∑‰ø°ÊÅØÂå∫ */\n.user-header {\n  background: linear-gradient(180deg, #e8f5e0 0%, #ffffff 100%);\n  padding: 60rpx 30rpx 40rpx;\n}\n\n.user-info {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.login-prompt {\n  display: flex;\n  align-items: center;\n  padding: 24rpx;\n  background: rgba(255, 255, 255, 0.2);\n  border-radius: 20rpx;\n}\n\n.panda-icon {\n  font-size: 80rpx;\n  margin-right: 20rpx;\n}\n\n.avatar {\n  width: 120rpx;\n  height: 120rpx;\n  border-radius: 60rpx;\n  border: 4rpx solid rgba(255, 255, 255, 0.5);\n  margin-right: 24rpx;\n  background-color: #ffffff;\n}\n\n.info {\n  flex: 1;\n}\n\n.nickname {\n  display: block;\n  font-size: 36rpx;\n  font-weight: bold;\n  color: #2d7a1f;\n  margin-bottom: 12rpx;\n}\n\n.account {\n  display: block;\n  font-size: 26rpx;\n  color: #4a9932;\n}\n\n.login-text {\n  display: block;\n  font-size: 32rpx;\n  font-weight: bold;\n  color: #ffffff;\n  margin-bottom: 8rpx;\n}\n\n.login-tip {\n  display: block;\n  font-size: 24rpx;\n  color: rgba(255, 255, 255, 0.85);\n}\n\n.arrow {\n  font-size: 48rpx;\n  color: #ffffff;\n  font-weight: 300;\n}\n\n/* ‰ºöÂëòÂç°ÁâáÂå∫ */\n.card-section {\n  padding: 30rpx;\n  margin-top: -40rpx;\n}\n\n.membership-card-wrapper {\n  margin-bottom: 20rpx;\n  position: relative;\n}\n\n.membership-bg {\n  width: 100%;\n  height: auto;\n  display: block;\n  border-radius: 16rpx;\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.08);\n}\n\n.card-validity {\n  position: absolute;\n  bottom: 40rpx;\n  left: 40rpx;\n  background: transparent;\n  padding: 0;\n}\n\n.validity-text {\n  font-size: 32rpx;\n  color: #474747;\n  font-weight: 500;\n  text-shadow: 0 10rpx 15rpx rgb(188, 188, 188);\n}\n\n/* ÂõæÁâáÊåâÈíÆÂå∫Âüü */\n.image-buttons {\n  display: flex;\n  gap: 20rpx;\n  margin-bottom: 20rpx;\n}\n\n.image-btn-item {\n  flex: 1;\n  transition: transform 0.2s;\n}\n\n.image-btn-item:active {\n  transform: scale(0.95);\n}\n\n.btn-image {\n  width: 100%;\n  height: auto;\n  display: block;\n  border-radius: 16rpx;\n}\n\n/* Á§ºÂìÅÂÖëÊç¢Âå∫Âüü */\n.redeem-section {\n  background: #ffffff;\n  border-radius: 16rpx;\n  padding: 30rpx;\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.08);\n}\n\n.redeem-header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 20rpx;\n}\n\n.redeem-icon {\n  font-size: 32rpx;\n  margin-right: 12rpx;\n}\n\n.redeem-title {\n  font-size: 32rpx;\n  font-weight: bold;\n  color: #333333;\n}\n\n.redeem-content {\n  display: flex;\n  flex-direction: column;\n  gap: 20rpx;\n}\n\n.redeem-tips {\n  background: #fff9e6;\n  border-radius: 12rpx;\n  padding: 20rpx;\n  border-left: 4rpx solid #f5a623;\n}\n\n.tip-item {\n  display: block;\n  font-size: 24rpx;\n  color: #666666;\n  line-height: 1.8;\n  margin-bottom: 8rpx;\n}\n\n.tip-item:last-child {\n  margin-bottom: 0;\n}\n\n.redeem-input-area {\n  display: flex;\n  gap: 16rpx;\n  align-items: center;\n}\n\n.redeem-input {\n  flex: 1;\n  height: 80rpx;\n  background: #f5f5f5;\n  border-radius: 12rpx;\n  padding: 0 24rpx;\n  font-size: 28rpx;\n  color: #333333;\n  border: 2rpx solid #e0e0e0;\n}\n\n.redeem-btn {\n  width: 160rpx;\n  height: 80rpx;\n  background: linear-gradient(135deg, #b3b3b3 0%, #a5a5a5 100%);\n  color: #333333;\n  font-size: 30rpx;\n  font-weight: bold;\n  border-radius: 12rpx;\n  border: none;\n  line-height: 80rpx;\n}\n\n.redeem-btn[disabled] {\n  opacity: 0.5;\n}\n\n.redeem-btn::after {\n  border: none;\n}\n\n.membership-card.has-membership {\n  border-color: #90d26c;\n  background: linear-gradient(135deg, #ffffff 0%, #f0f9f0 100%);\n}\n\n.card-header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 20rpx;\n}\n\n.card-icon {\n  font-size: 36rpx;\n  margin-right: 12rpx;\n}\n\n.card-title {\n  font-size: 28rpx;\n  font-weight: bold;\n  color: #333333;\n}\n\n.card-body {\n  padding-top: 20rpx;\n  border-top: 1rpx solid #f0f0f0;\n}\n\n.card-status {\n  display: block;\n  font-size: 32rpx;\n  font-weight: bold;\n  color: #90d26c;\n  margin-bottom: 12rpx;\n}\n\n.card-desc {\n  display: block;\n  font-size: 24rpx;\n  color: #666666;\n  line-height: 1.6;\n}\n\n/* ËèúÂçïÂå∫ */\n.menu-section {\n  padding: 0 30rpx 30rpx;\n}\n\n.menu-group {\n  margin-bottom: 30rpx;\n}\n\n.group-title {\n  display: block;\n  font-size: 26rpx;\n  color: #999999;\n  margin-bottom: 20rpx;\n  padding-left: 10rpx;\n}\n\n.menu-list {\n  background-color: #ffffff;\n  border-radius: 16rpx;\n  overflow: hidden;\n  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\n}\n\n.menu-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 30rpx 24rpx;\n  border-bottom: 1rpx solid #f0f0f0;\n  transition: background-color 0.3s;\n}\n\n.menu-item:last-child {\n  border-bottom: none;\n}\n\n.menu-hover {\n  background-color: #f5f5f5;\n}\n\n/* ÈáçÁΩÆbuttonÊ†∑ÂºèÔºå‰ΩøÂÖ∂ÁúãËµ∑Êù•ÂÉèÊôÆÈÄömenu-item */\n.menu-button-reset {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 30rpx;\n  background-color: #ffffff;\n  border-bottom: 1rpx solid #f0f0f0;\n  font-size: 30rpx;\n  color: #333333;\n  text-align: left;\n  border: none;\n  border-radius: 0;\n  line-height: normal;\n  margin: 0;\n}\n\n.menu-button-reset::after {\n  border: none;\n}\n\n.menu-left {\n  display: flex;\n  align-items: center;\n  flex: 1;\n}\n\n.menu-emoji {\n  font-size: 40rpx;\n  margin-right: 20rpx;\n}\n\n.menu-title {\n  font-size: 30rpx;\n  color: #333333;\n  font-weight: 500;\n}\n\n.menu-arrow {\n  font-size: 40rpx;\n  color: #cccccc;\n  font-weight: 300;\n}\n\n/* ÈÄÄÂá∫ÁôªÂΩï */\n.logout-btn-small {\n  padding: 0 28rpx;\n  height: 60rpx;\n  background-color: #297512;\n  border: 2rpx solid #297512;\n  border-radius: 30rpx;\n  font-size: 24rpx;\n  color: #ffffff;\n  line-height: 60rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.logout-btn-small::after {\n  border: none;\n}\n\n.button-hover {\n  background-color: #f5f5f5;\n  opacity: 0.9;\n}\n</style>\n","import MiniProgramPage from 'D:/AAA_idea_java/pandaBase/panda-base-uni-app/pages/personal/personal.vue'\nwx.createPage(MiniProgramPage)"],"names":["isLoggedIn","getUserInfo","getLoginUser","uni","clearUserInfo","getMyMembershipCards","logout","redeemCode","openCustomerServiceGeneral"],"mappings":"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"}