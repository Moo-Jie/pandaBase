{"version":3,"file":"address-list.js","sources":["pages/address-list/address-list.vue","E:/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvYWRkcmVzcy1saXN0L2FkZHJlc3MtbGlzdC52dWU"],"sourcesContent":["<template>\r\n\t<view class=\"page\">\r\n\t\t<view class=\"container\">\r\n\t\t\t<!-- Âú∞ÂùÄÂàóË°® -->\r\n\t\t\t<view class=\"address-list\" v-if=\"addresses.length > 0\">\r\n\t\t\t\t<view \r\n\t\t\t\t\tclass=\"address-item\" \r\n\t\t\t\t\tv-for=\"address in addresses\" \r\n\t\t\t\t\t:key=\"address.id\"\r\n\t\t\t\t\t@click=\"handleSelectAddress(address)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<view class=\"address-header\">\r\n\t\t\t\t\t\t<view class=\"user-info\">\r\n\t\t\t\t\t\t\t<text class=\"name\">{{ address.receiverName }}</text>\r\n\t\t\t\t\t\t\t<text class=\"phone\">{{ address.phone }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"default-tag\" v-if=\"address.isDefault\">ÈªòËÆ§</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t<view class=\"address-detail\">\r\n\t\t\t\t\t<text>{{ address.fullAddress }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"address-actions\" v-if=\"!isSelectMode\">\r\n\t\t\t\t\t<button \r\n\t\t\t\t\t\tclass=\"action-btn default-btn\" \r\n\t\t\t\t\t\tv-if=\"!address.isDefault\"\r\n\t\t\t\t\t\t@click.stop=\"handleSetDefault(address.id)\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tËÆæ‰∏∫ÈªòËÆ§\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button class=\"action-btn delete-btn\" @click.stop=\"handleDelete(address.id)\">Âà†Èô§</button>\r\n\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- Á©∫Áä∂ÊÄÅ -->\r\n\t\t\t<view class=\"empty-state\" v-else>\r\n\t\t\t\t<view class=\"empty-icon\">üìç</view>\r\n\t\t\t\t<text class=\"empty-text\">ÊöÇÊó†Êî∂Ë¥ßÂú∞ÂùÄ</text>\r\n\t\t\t\t<text class=\"empty-tip\">Ê∑ªÂä†Âú∞ÂùÄÂêéÊõ¥‰æøÊç∑‰∏ãÂçï</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- Â∫ïÈÉ®ÊåâÈíÆ -->\r\n\t\t<view class=\"bottom-bar\">\r\n\t\t\t<button class=\"add-btn\" @click=\"handleAddAddress\" hover-class=\"button-hover\">\r\n\t\t\t\t<text class=\"btn-icon\">‚ûï</text>\r\n\t\t\t\t<text>Êñ∞Â¢ûÊî∂Ë¥ßÂú∞ÂùÄ</text>\r\n\t\t\t</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport { getMyAddresses, deleteAddress, setDefaultAddress } from '../../api/address.js';\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\taddresses: [],\r\n\t\t\tisSelectMode: false, // ÊòØÂê¶ÊòØÈÄâÊã©Ê®°Âºè\r\n\t\t\tloading: false\r\n\t\t}\r\n\t},\r\n\tonLoad(options) {\r\n\t\tif (options.select) {\r\n\t\t\tthis.isSelectMode = true;\r\n\t\t}\r\n\t\tthis.loadAddresses();\r\n\t},\r\n\tonShow() {\r\n\t\tthis.loadAddresses();\r\n\t},\r\n\tmethods: {\r\n\t\t// Âä†ËΩΩÂú∞ÂùÄÂàóË°®\r\n\t\tasync loadAddresses() {\r\n\t\t\tif (this.loading) return;\r\n\t\t\tthis.loading = true;\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tuni.showLoading({ title: 'Âä†ËΩΩ‰∏≠...', mask: true });\r\n\t\t\t\tconst result = await getMyAddresses();\r\n\t\t\t\tthis.addresses = result || [];\r\n\t\t\t\tuni.hideLoading();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tuni.hideLoading();\r\n\t\t\t\tconsole.error('Âä†ËΩΩÂú∞ÂùÄÂ§±Ë¥•:', error);\r\n\t\t\t} finally {\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// ÈÄâÊã©Âú∞ÂùÄ\r\n\t\thandleSelectAddress(address) {\r\n\t\t\tif (this.isSelectMode) {\r\n\t\t\t\t// ÈÄâÊã©Ê®°ÂºèÔºöËøîÂõûÂú∞ÂùÄ‰ø°ÊÅØ\r\n\t\t\t\tconst pages = getCurrentPages();\r\n\t\t\t\tconst prevPage = pages[pages.length - 2];\r\n\t\t\t\tif (prevPage) {\r\n\t\t\t\t\tprevPage.$vm.selectedAddress = address;\r\n\t\t\t\t}\r\n\t\t\t\tuni.navigateBack();\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// Êñ∞Â¢ûÂú∞ÂùÄ\r\n\t\thandleAddAddress() {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '/pages/address-edit/address-edit'\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\t// ËÆæÁΩÆÈªòËÆ§Âú∞ÂùÄ\r\n\t\tasync handleSetDefault(id) {\r\n\t\t\ttry {\r\n\t\t\t\tuni.showLoading({ title: 'ËÆæÁΩÆ‰∏≠...', mask: true });\r\n\t\t\t\tawait setDefaultAddress(id);\r\n\t\t\t\tuni.hideLoading();\r\n\t\t\t\tuni.showToast({ title: 'ËÆæÁΩÆÊàêÂäü', icon: 'success' });\r\n\t\t\t\tthis.loadAddresses();\r\n\t\t\t} catch (error) {\r\n\t\t\t\tuni.hideLoading();\r\n\t\t\t\tconsole.error('ËÆæÁΩÆÈªòËÆ§Âú∞ÂùÄÂ§±Ë¥•:', error);\r\n\t\t\t\tuni.showToast({ title: 'ËÆæÁΩÆÂ§±Ë¥•', icon: 'none' });\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// Âà†Èô§Âú∞ÂùÄ\r\n\t\thandleDelete(id) {\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: 'ÊèêÁ§∫',\r\n\t\t\t\tcontent: 'Á°ÆÂÆöË¶ÅÂà†Èô§Ëøô‰∏™Âú∞ÂùÄÂêóÔºü',\r\n\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tawait deleteAddress(id);\r\n\t\t\t\t\t\t\tuni.showToast({ title: 'Âà†Èô§ÊàêÂäü', icon: 'success' });\r\n\t\t\t\t\t\t\tthis.loadAddresses();\r\n\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\tconsole.error('Âà†Èô§Âú∞ÂùÄÂ§±Ë¥•:', error);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.page {\r\n\tmin-height: 100vh;\r\n\tbackground-color: #f5f5f5;\r\n\tpadding-bottom: 120rpx;\r\n}\r\n\r\n.container {\r\n\tpadding: 20rpx 30rpx;\r\n}\r\n\r\n.address-list {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tgap: 20rpx;\r\n}\r\n\r\n.address-item {\r\n\tbackground-color: #ffffff;\r\n\tborder-radius: 16rpx;\r\n\tpadding: 30rpx;\r\n\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.address-header {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tmargin-bottom: 16rpx;\r\n}\r\n\r\n.user-info {\r\n\tflex: 1;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tgap: 20rpx;\r\n}\r\n\r\n.name {\r\n\tfont-size: 30rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #333333;\r\n}\r\n\r\n.phone {\r\n\tfont-size: 26rpx;\r\n\tcolor: #666666;\r\n}\r\n\r\n.default-tag {\r\n\tpadding: 6rpx 16rpx;\r\n\tbackground: linear-gradient(135deg, #a8e063 0%, #297512 100%);\r\n\tcolor: #ffffff;\r\n\tfont-size: 22rpx;\r\n\tborder-radius: 12rpx;\r\n}\r\n\r\n.address-detail {\r\n\tfont-size: 26rpx;\r\n\tcolor: #666666;\r\n\tline-height: 1.6;\r\n\tmargin-bottom: 16rpx;\r\n}\r\n\r\n.address-actions {\r\n\tdisplay: flex;\r\n\tjustify-content: flex-end;\r\n\tgap: 16rpx;\r\n\tpadding-top: 16rpx;\r\n\tborder-top: 1rpx solid #f0f0f0;\r\n}\r\n\r\n.action-btn {\r\n\tpadding: 8rpx 24rpx;\r\n\tfont-size: 24rpx;\r\n\tborder-radius: 20rpx;\r\n\tborder: none;\r\n\tline-height: 1.5;\r\n}\r\n\r\n.default-btn {\r\n\tbackground-color: #e8f5e9;\r\n\tcolor: #4caf50;\r\n}\r\n\r\n.delete-btn {\r\n\tbackground-color: #f5f5f5;\r\n\tcolor: #666666;\r\n}\r\n\r\n.action-btn::after {\r\n\tborder: none;\r\n}\r\n\r\n/* Á©∫Áä∂ÊÄÅ */\r\n.empty-state {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n\tpadding: 120rpx 30rpx;\r\n}\r\n\r\n.empty-icon {\r\n\tfont-size: 120rpx;\r\n\tmargin-bottom: 30rpx;\r\n\topacity: 0.3;\r\n}\r\n\r\n.empty-text {\r\n\tfont-size: 30rpx;\r\n\tcolor: #666666;\r\n\tmargin-bottom: 12rpx;\r\n}\r\n\r\n.empty-tip {\r\n\tfont-size: 24rpx;\r\n\tcolor: #999999;\r\n}\r\n\r\n/* Â∫ïÈÉ®ÊåâÈíÆ */\r\n.bottom-bar {\r\n\tposition: fixed;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbackground-color: #ffffff;\r\n\tpadding: 20rpx 30rpx;\r\n\tbox-shadow: 0 -2rpx 10rpx rgba(0, 0, 0, 0.05);\r\n\tz-index: 100;\r\n}\r\n\r\n.add-btn {\r\n\twidth: 100%;\r\n\theight: 88rpx;\r\n\tbackground: linear-gradient(135deg, #a8e063 0%, #297512 100%);\r\n\tborder-radius: 44rpx;\r\n\tfont-size: 30rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #ffffff;\r\n\tborder: none;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tgap: 12rpx;\r\n}\r\n\r\n.add-btn::after {\r\n\tborder: none;\r\n}\r\n\r\n.btn-icon {\r\n\tfont-size: 32rpx;\r\n}\r\n\r\n.button-hover {\r\n\topacity: 0.85;\r\n}\r\n</style>\r\n\r\n","import MiniProgramPage from 'D:/AAA_idea_java/pandaBase/panda-base-uni-app/pages/address-list/address-list.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","getMyAddresses","setDefaultAddress","deleteAddress"],"mappings":";;;AAuDA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,WAAW,CAAE;AAAA,MACb,cAAc;AAAA;AAAA,MACd,SAAS;AAAA,IACV;AAAA,EACA;AAAA,EACD,OAAO,SAAS;AACf,QAAI,QAAQ,QAAQ;AACnB,WAAK,eAAe;AAAA,IACrB;AACA,SAAK,cAAa;AAAA,EAClB;AAAA,EACD,SAAS;AACR,SAAK,cAAa;AAAA,EAClB;AAAA,EACD,SAAS;AAAA;AAAA,IAER,MAAM,gBAAgB;AACrB,UAAI,KAAK;AAAS;AAClB,WAAK,UAAU;AAEf,UAAI;AACHA,sBAAG,MAAC,YAAY,EAAE,OAAO,UAAU,MAAM,KAAG,CAAG;AAC/C,cAAM,SAAS,MAAMC,YAAAA;AACrB,aAAK,YAAY,UAAU;AAC3BD,sBAAG,MAAC,YAAW;AAAA,MACd,SAAO,OAAO;AACfA,sBAAG,MAAC,YAAW;AACfA,sBAAA,MAAA,MAAA,SAAA,6CAAc,WAAW,KAAK;AAAA,MAC/B,UAAU;AACT,aAAK,UAAU;AAAA,MAChB;AAAA,IACA;AAAA;AAAA,IAGD,oBAAoB,SAAS;AAC5B,UAAI,KAAK,cAAc;AAEtB,cAAM,QAAQ;AACd,cAAM,WAAW,MAAM,MAAM,SAAS,CAAC;AACvC,YAAI,UAAU;AACb,mBAAS,IAAI,kBAAkB;AAAA,QAChC;AACAA,sBAAG,MAAC,aAAY;AAAA,MACjB;AAAA,IACA;AAAA;AAAA,IAGD,mBAAmB;AAClBA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACN,CAAC;AAAA,IACD;AAAA;AAAA,IAGD,MAAM,iBAAiB,IAAI;AAC1B,UAAI;AACHA,sBAAG,MAAC,YAAY,EAAE,OAAO,UAAU,MAAM,KAAG,CAAG;AAC/C,cAAME,YAAAA,kBAAkB,EAAE;AAC1BF,sBAAG,MAAC,YAAW;AACfA,sBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,UAAQ,CAAG;AAChD,aAAK,cAAa;AAAA,MACjB,SAAO,OAAO;AACfA,sBAAG,MAAC,YAAW;AACfA,sBAAc,MAAA,MAAA,SAAA,8CAAA,aAAa,KAAK;AAChCA,sBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,OAAK,CAAG;AAAA,MAC9C;AAAA,IACA;AAAA;AAAA,IAGD,aAAa,IAAI;AAChBA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,OAAO,QAAQ;AACvB,cAAI,IAAI,SAAS;AAChB,gBAAI;AACH,oBAAMG,YAAAA,cAAc,EAAE;AACtBH,4BAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,UAAQ,CAAG;AAChD,mBAAK,cAAa;AAAA,YACjB,SAAO,OAAO;AACfA,4BAAc,MAAA,MAAA,SAAA,8CAAA,WAAW,KAAK;AAAA,YAC/B;AAAA,UACD;AAAA,QACD;AAAA,MACD,CAAC;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChJA,GAAG,WAAW,eAAe;"}