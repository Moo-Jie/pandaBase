{"version":3,"file":"address-list.js","sources":["pages/address-list/address-list.vue","E:/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvYWRkcmVzcy1saXN0L2FkZHJlc3MtbGlzdC52dWU"],"sourcesContent":["<template>\n\t<view class=\"page\">\n\t\t<view class=\"container\">\n\t\t\t<!-- Âú∞ÂùÄÂàóË°® -->\n\t\t\t<view class=\"address-list\" v-if=\"addresses.length > 0\">\n\t\t\t\t<view \n\t\t\t\t\tclass=\"address-item\" \n\t\t\t\t\tv-for=\"address in addresses\" \n\t\t\t\t\t:key=\"address.id\"\n\t\t\t\t\t@click=\"handleSelectAddress(address)\"\n\t\t\t\t>\n\t\t\t\t\t<view class=\"address-header\">\n\t\t\t\t\t\t<view class=\"user-info\">\n\t\t\t\t\t\t\t<text class=\"name\">{{ address.receiverName }}</text>\n\t\t\t\t\t\t\t<text class=\"phone\">{{ address.phone }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"default-tag\" v-if=\"address.isDefault\">ÈªòËÆ§</view>\n\t\t\t\t\t</view>\n\t\t\t\t<view class=\"address-detail\">\n\t\t\t\t\t<text>{{ address.fullAddress }}</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"address-actions\" v-if=\"!isSelectMode\">\n\t\t\t\t\t<button \n\t\t\t\t\t\tclass=\"action-btn default-btn\" \n\t\t\t\t\t\tv-if=\"!address.isDefault\"\n\t\t\t\t\t\t@click.stop=\"handleSetDefault(address.id)\"\n\t\t\t\t\t>\n\t\t\t\t\t\tËÆæ‰∏∫ÈªòËÆ§\n\t\t\t\t\t</button>\n\t\t\t\t\t<button class=\"action-btn delete-btn\" @click.stop=\"handleDelete(address.id)\">Âà†Èô§</button>\n\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- Á©∫Áä∂ÊÄÅ -->\n\t\t\t<view class=\"empty-state\" v-else>\n\t\t\t\t<view class=\"empty-icon\">üìç</view>\n\t\t\t\t<text class=\"empty-text\">ÊöÇÊó†Êî∂Ë¥ßÂú∞ÂùÄ</text>\n\t\t\t\t<text class=\"empty-tip\">Ê∑ªÂä†Âú∞ÂùÄÂêéÊõ¥‰æøÊç∑‰∏ãÂçï</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- Â∫ïÈÉ®ÊåâÈíÆ -->\n\t\t<view class=\"bottom-bar\">\n\t\t\t<button class=\"add-btn\" @click=\"handleAddAddress\" hover-class=\"button-hover\">\n\t\t\t\t<text class=\"btn-icon\">‚ûï</text>\n\t\t\t\t<text>Êñ∞Â¢ûÊî∂Ë¥ßÂú∞ÂùÄ</text>\n\t\t\t</button>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nimport { getMyAddresses, deleteAddress, setDefaultAddress } from '../../api/address.js';\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\taddresses: [],\n\t\t\tisSelectMode: false, // ÊòØÂê¶ÊòØÈÄâÊã©Ê®°Âºè\n\t\t\tloading: false\n\t\t}\n\t},\n\tonLoad(options) {\n\t\tif (options.select) {\n\t\t\tthis.isSelectMode = true;\n\t\t}\n\t\tthis.loadAddresses();\n\t},\n\tonShow() {\n\t\tthis.loadAddresses();\n\t},\n\tmethods: {\n\t\t// Âä†ËΩΩÂú∞ÂùÄÂàóË°®\n\t\tasync loadAddresses() {\n\t\t\tif (this.loading) return;\n\t\t\tthis.loading = true;\n\t\t\t\n\t\t\ttry {\n\t\t\t\tuni.showLoading({ title: 'Âä†ËΩΩ‰∏≠...', mask: true });\n\t\t\t\tconst result = await getMyAddresses();\n\t\t\t\tthis.addresses = result || [];\n\t\t\t\tuni.hideLoading();\n\t\t\t} catch (error) {\n\t\t\t\tuni.hideLoading();\n\t\t\t\tconsole.error('Âä†ËΩΩÂú∞ÂùÄÂ§±Ë¥•:', error);\n\t\t\t} finally {\n\t\t\t\tthis.loading = false;\n\t\t\t}\n\t\t},\n\t\t\n\t\t// ÈÄâÊã©Âú∞ÂùÄ\n\t\thandleSelectAddress(address) {\n\t\t\tif (this.isSelectMode) {\n\t\t\t\t// ÈÄâÊã©Ê®°ÂºèÔºöËøîÂõûÂú∞ÂùÄ‰ø°ÊÅØ\n\t\t\t\tconst pages = getCurrentPages();\n\t\t\t\tconst prevPage = pages[pages.length - 2];\n\t\t\t\tif (prevPage) {\n\t\t\t\t\tprevPage.$vm.selectedAddress = address;\n\t\t\t\t}\n\t\t\t\tuni.navigateBack();\n\t\t\t}\n\t\t},\n\t\t\n\t\t// Êñ∞Â¢ûÂú∞ÂùÄ\n\t\thandleAddAddress() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/address-edit/address-edit'\n\t\t\t});\n\t\t},\n\t\t\n\t\t// ËÆæÁΩÆÈªòËÆ§Âú∞ÂùÄ\n\t\tasync handleSetDefault(id) {\n\t\t\ttry {\n\t\t\t\tuni.showLoading({ title: 'ËÆæÁΩÆ‰∏≠...', mask: true });\n\t\t\t\tawait setDefaultAddress(id);\n\t\t\t\tuni.hideLoading();\n\t\t\t\tuni.showToast({ title: 'ËÆæÁΩÆÊàêÂäü', icon: 'success' });\n\t\t\t\tthis.loadAddresses();\n\t\t\t} catch (error) {\n\t\t\t\tuni.hideLoading();\n\t\t\t\tconsole.error('ËÆæÁΩÆÈªòËÆ§Âú∞ÂùÄÂ§±Ë¥•:', error);\n\t\t\t\tuni.showToast({ title: 'ËÆæÁΩÆÂ§±Ë¥•', icon: 'none' });\n\t\t\t}\n\t\t},\n\t\t\n\t\t// Âà†Èô§Âú∞ÂùÄ\n\t\thandleDelete(id) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: 'ÊèêÁ§∫',\n\t\t\t\tcontent: 'Á°ÆÂÆöË¶ÅÂà†Èô§Ëøô‰∏™Âú∞ÂùÄÂêóÔºü',\n\t\t\t\tsuccess: async (res) => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait deleteAddress(id);\n\t\t\t\t\t\t\tuni.showToast({ title: 'Âà†Èô§ÊàêÂäü', icon: 'success' });\n\t\t\t\t\t\t\tthis.loadAddresses();\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tconsole.error('Âà†Èô§Âú∞ÂùÄÂ§±Ë¥•:', error);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n</script>\n\n<style scoped lang=\"scss\">\n.page {\n\tmin-height: 100vh;\n\tbackground-color: #f5f5f5;\n\tpadding-bottom: 120rpx;\n}\n\n.container {\n\tpadding: 20rpx 30rpx;\n}\n\n.address-list {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 20rpx;\n}\n\n.address-item {\n\tbackground-color: #ffffff;\n\tborder-radius: 16rpx;\n\tpadding: 30rpx;\n\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\n}\n\n.address-header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-bottom: 16rpx;\n}\n\n.user-info {\n\tflex: 1;\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 20rpx;\n}\n\n.name {\n\tfont-size: 30rpx;\n\tfont-weight: bold;\n\tcolor: #333333;\n}\n\n.phone {\n\tfont-size: 26rpx;\n\tcolor: #666666;\n}\n\n.default-tag {\n\tpadding: 6rpx 16rpx;\n\tbackground: linear-gradient(135deg, #a8e063 0%, #297512 100%);\n\tcolor: #ffffff;\n\tfont-size: 22rpx;\n\tborder-radius: 12rpx;\n}\n\n.address-detail {\n\tfont-size: 26rpx;\n\tcolor: #666666;\n\tline-height: 1.6;\n\tmargin-bottom: 16rpx;\n}\n\n.address-actions {\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tgap: 16rpx;\n\tpadding-top: 16rpx;\n\tborder-top: 1rpx solid #f0f0f0;\n}\n\n.action-btn {\n\tpadding: 8rpx 24rpx;\n\tfont-size: 24rpx;\n\tborder-radius: 20rpx;\n\tborder: none;\n\tline-height: 1.5;\n}\n\n.default-btn {\n\tbackground-color: #e8f5e9;\n\tcolor: #4caf50;\n}\n\n.delete-btn {\n\tbackground-color: #f5f5f5;\n\tcolor: #666666;\n}\n\n.action-btn::after {\n\tborder: none;\n}\n\n/* Á©∫Áä∂ÊÄÅ */\n.empty-state {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tpadding: 120rpx 30rpx;\n}\n\n.empty-icon {\n\tfont-size: 120rpx;\n\tmargin-bottom: 30rpx;\n\topacity: 0.3;\n}\n\n.empty-text {\n\tfont-size: 30rpx;\n\tcolor: #666666;\n\tmargin-bottom: 12rpx;\n}\n\n.empty-tip {\n\tfont-size: 24rpx;\n\tcolor: #999999;\n}\n\n/* Â∫ïÈÉ®ÊåâÈíÆ */\n.bottom-bar {\n\tposition: fixed;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\tbackground-color: #ffffff;\n\tpadding: 20rpx 30rpx;\n\tbox-shadow: 0 -2rpx 10rpx rgba(0, 0, 0, 0.05);\n\tz-index: 100;\n}\n\n.add-btn {\n\twidth: 100%;\n\theight: 88rpx;\n\tbackground: linear-gradient(135deg, #a8e063 0%, #297512 100%);\n\tborder-radius: 44rpx;\n\tfont-size: 30rpx;\n\tfont-weight: bold;\n\tcolor: #ffffff;\n\tborder: none;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tgap: 12rpx;\n}\n\n.add-btn::after {\n\tborder: none;\n}\n\n.btn-icon {\n\tfont-size: 32rpx;\n}\n\n.button-hover {\n\topacity: 0.85;\n}\n</style>\n\n","import MiniProgramPage from 'D:/AAA_idea_java/pandaBase/panda-base-uni-app/pages/address-list/address-list.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","getMyAddresses","setDefaultAddress","deleteAddress"],"mappings":";;;AAuDA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,WAAW,CAAE;AAAA,MACb,cAAc;AAAA;AAAA,MACd,SAAS;AAAA,IACV;AAAA,EACA;AAAA,EACD,OAAO,SAAS;AACf,QAAI,QAAQ,QAAQ;AACnB,WAAK,eAAe;AAAA,IACrB;AACA,SAAK,cAAa;AAAA,EAClB;AAAA,EACD,SAAS;AACR,SAAK,cAAa;AAAA,EAClB;AAAA,EACD,SAAS;AAAA;AAAA,IAER,MAAM,gBAAgB;AACrB,UAAI,KAAK;AAAS;AAClB,WAAK,UAAU;AAEf,UAAI;AACHA,sBAAG,MAAC,YAAY,EAAE,OAAO,UAAU,MAAM,KAAG,CAAG;AAC/C,cAAM,SAAS,MAAMC,YAAAA;AACrB,aAAK,YAAY,UAAU;AAC3BD,sBAAG,MAAC,YAAW;AAAA,MACd,SAAO,OAAO;AACfA,sBAAG,MAAC,YAAW;AACfA,sBAAA,MAAA,MAAA,SAAA,6CAAc,WAAW,KAAK;AAAA,MAC/B,UAAU;AACT,aAAK,UAAU;AAAA,MAChB;AAAA,IACA;AAAA;AAAA,IAGD,oBAAoB,SAAS;AAC5B,UAAI,KAAK,cAAc;AAEtB,cAAM,QAAQ;AACd,cAAM,WAAW,MAAM,MAAM,SAAS,CAAC;AACvC,YAAI,UAAU;AACb,mBAAS,IAAI,kBAAkB;AAAA,QAChC;AACAA,sBAAG,MAAC,aAAY;AAAA,MACjB;AAAA,IACA;AAAA;AAAA,IAGD,mBAAmB;AAClBA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACN,CAAC;AAAA,IACD;AAAA;AAAA,IAGD,MAAM,iBAAiB,IAAI;AAC1B,UAAI;AACHA,sBAAG,MAAC,YAAY,EAAE,OAAO,UAAU,MAAM,KAAG,CAAG;AAC/C,cAAME,YAAAA,kBAAkB,EAAE;AAC1BF,sBAAG,MAAC,YAAW;AACfA,sBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,UAAQ,CAAG;AAChD,aAAK,cAAa;AAAA,MACjB,SAAO,OAAO;AACfA,sBAAG,MAAC,YAAW;AACfA,sBAAA,MAAA,MAAA,SAAA,8CAAc,aAAa,KAAK;AAChCA,sBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,OAAK,CAAG;AAAA,MAC9C;AAAA,IACA;AAAA;AAAA,IAGD,aAAa,IAAI;AAChBA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,OAAO,QAAQ;AACvB,cAAI,IAAI,SAAS;AAChB,gBAAI;AACH,oBAAMG,YAAAA,cAAc,EAAE;AACtBH,4BAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,UAAQ,CAAG;AAChD,mBAAK,cAAa;AAAA,YACjB,SAAO,OAAO;AACfA,4BAAc,MAAA,MAAA,SAAA,8CAAA,WAAW,KAAK;AAAA,YAC/B;AAAA,UACD;AAAA,QACD;AAAA,MACD,CAAC;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChJA,GAAG,WAAW,eAAe;"}