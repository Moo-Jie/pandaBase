{"version":3,"file":"index.js","sources":["pages/index/index.vue","E:/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\r\n  <view class=\"page\">\r\n    <!-- ËÉåÊôØÂõæÁâá - Èì∫Êª°Êï¥‰∏™È°µÈù¢ -->\r\n    <image class=\"bg-image\" src=\"/static/images/HomepageBackground.png\" mode=\"aspectFill\"></image>\r\n\r\n    <!-- Âç†‰ΩçÁ©∫Èó¥ÔºåÂ∞ÜÂ∫ïÈÉ®ÂÜÖÂÆπÊé®Âà∞Â∫ïÈÉ® -->\r\n    <view class=\"spacer\"></view>\r\n\r\n    <!-- BannerËΩÆÊí≠ - Áº©Â∞èÂ∞∫ÂØ∏ -->\r\n    <view class=\"banner-section\" v-if=\"banners.length > 0\">\r\n      <swiper\r\n          class=\"banner-swiper\"\r\n          :indicator-dots=\"true\"\r\n          :autoplay=\"true\"\r\n          :interval=\"3000\"\r\n          :duration=\"500\"\r\n          :circular=\"true\"\r\n          indicator-color=\"rgba(255, 255, 255, 0.5)\"\r\n          indicator-active-color=\"#90d26c\"\r\n      >\r\n        <swiper-item v-for=\"banner in banners\" :key=\"banner.id\" @click=\"handleBannerClick(banner)\">\r\n          <view class=\"banner-content\">\r\n            <image class=\"banner-image\" :src=\"banner.imageUrl\" mode=\"aspectFill\"></image>\r\n            <view class=\"banner-text\" v-if=\"banner.title\">\r\n              <text class=\"banner-title\">{{ banner.title }}</text>\r\n            </view>\r\n          </view>\r\n        </swiper-item>\r\n      </swiper>\r\n      \r\n      <!-- ÁÜäÁå´ÂÜôÂÆûÂõæÁâá -->\r\n      <image class=\"panda-real-image\" src=\"/static/images/ÁÜäÁå´ÂÜôÂÆû.png\" mode=\"aspectFit\"></image>\r\n    </view>\r\n\r\n    <!-- ‰ºöÂëòÂç°Â±ïÁ§∫ - Âõ∫ÂÆöÂ∫ïÈÉ®ÔºåÂ∑¶Âè≥ÂàÜÂ∏ÉÔºåÁ∫ØÂõæÁâá -->\r\n    <view class=\"cards-section\">\r\n      <!-- Âπ¥Âç° -->\r\n      <view class=\"card-container\" v-if=\"yearCard\">\r\n        <view class=\"card-item\" @click=\"handleCardClick(yearCard)\">\r\n          <image class=\"card-image\" src=\"/static/images/Âπ¥Âç°VIP.png\" mode=\"widthFix\"></image>\r\n        </view>\r\n        <button class=\"buy-btn\" @click=\"handleCardClick(yearCard)\" hover-class=\"button-hover\">\r\n          Á´ãÂç≥Ë¥≠‰π∞\r\n        </button>\r\n      </view>\r\n\r\n      <!-- ÊúàÂç° -->\r\n      <view class=\"card-container\" v-if=\"monthCard\">\r\n        <view class=\"card-item\" @click=\"handleCardClick(monthCard)\">\r\n          <image class=\"card-image\" src=\"/static/images/ÊúàÂç°VIP.png\" mode=\"widthFix\"></image>\r\n        </view>\r\n        <button class=\"buy-btn\" @click=\"handleCardClick(monthCard)\" hover-class=\"button-hover\">\r\n          Á´ãÂç≥Ë¥≠‰π∞\r\n        </button>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- Á©∫Áä∂ÊÄÅ -->\r\n    <view class=\"empty-state\" v-if=\"!yearCard && !monthCard && !loading\">\r\n      <view class=\"empty-icon\">üêº</view>\r\n      <text class=\"empty-text\">ÊöÇÊó†ÂèØË¥≠‰π∞ÁöÑÂïÜÂìÅ</text>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport {getProductList} from '../../api/product.js';\r\nimport {getActiveBanners} from '../../api/banner.js';\r\nimport {isLoggedIn} from '../../utils/auth.js';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      banners: [],\r\n      yearCard: null,\r\n      monthCard: null,\r\n      loading: false\r\n    }\r\n  },\r\n  onLoad() {\r\n    this.loadBanners();\r\n    this.loadProducts();\r\n  },\r\n  onShow() {\r\n    // ÊØèÊ¨°ÊòæÁ§∫È°µÈù¢Êó∂Âà∑Êñ∞Êï∞ÊçÆ\r\n    this.loadProducts();\r\n  },\r\n  methods: {\r\n    // Âä†ËΩΩBannerÊï∞ÊçÆ\r\n    async loadBanners() {\r\n      try {\r\n        const result = await getActiveBanners();\r\n        this.banners = result || [];\r\n      } catch (error) {\r\n        console.error('Âä†ËΩΩBannerÂ§±Ë¥•:', error);\r\n        // BannerÂä†ËΩΩÂ§±Ë¥•‰∏çÂΩ±Âìç‰∏ªË¶ÅÂäüËÉΩÔºåÈùôÈªòÂ§ÑÁêÜ\r\n      }\r\n    },\r\n\r\n    // Âä†ËΩΩÂïÜÂìÅÊï∞ÊçÆ\r\n    async loadProducts() {\r\n      if (this.loading) return;\r\n\r\n      this.loading = true;\r\n\r\n      try {\r\n        uni.showLoading({\r\n          title: 'Âä†ËΩΩ‰∏≠...',\r\n          mask: true\r\n        });\r\n\r\n        // Ëé∑ÂèñÂïÜÂìÅÂàóË°®Ôºåtype=1ÊòØÂπ¥Âç°Ôºåtype=2ÊòØÊúàÂç°\r\n        const result = await getProductList({\r\n          pageNum: 1,\r\n          pageSize: 10,\r\n          status: 1 // Âè™Êü•ËØ¢‰∏äÊû∂ÂïÜÂìÅ\r\n        });\r\n\r\n        if (result && result.records) {\r\n          // Á≠õÈÄâÂπ¥Âç°ÂíåÊúàÂç°\r\n          this.yearCard = result.records.find(item => item.type === 1);\r\n          this.monthCard = result.records.find(item => item.type === 2);\r\n        }\r\n\r\n        uni.hideLoading();\r\n      } catch (error) {\r\n        uni.hideLoading();\r\n        console.error('Âä†ËΩΩÂïÜÂìÅÂ§±Ë¥•:', error);\r\n        uni.showToast({\r\n          title: 'Âä†ËΩΩÂ§±Ë¥•ÔºåËØ∑ÈáçËØï',\r\n          icon: 'none'\r\n        });\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n\r\n    // Â§ÑÁêÜBannerÁÇπÂáª\r\n    handleBannerClick(banner) {\r\n      if (!banner.linkType || banner.linkType === 0) {\r\n        return; // Êó†Ë∑≥ËΩ¨\r\n      }\r\n\r\n      switch (banner.linkType) {\r\n        case 1:\r\n          // ÂïÜÂìÅËØ¶ÊÉÖ\r\n          if (banner.linkValue) {\r\n            uni.navigateTo({\r\n              url: `/pages/product-detail/product-detail?id=${banner.linkValue}`\r\n            });\r\n          }\r\n          break;\r\n        case 2:\r\n          // È°µÈù¢Ë∑≥ËΩ¨\r\n          if (banner.linkValue) {\r\n            uni.navigateTo({\r\n              url: banner.linkValue\r\n            });\r\n          }\r\n          break;\r\n        case 3:\r\n          // Â§ñÈÉ®ÈìæÊé•ÔºàÂ∞èÁ®ãÂ∫è‰∏≠ÂèØ‰ª•‰ΩøÁî®web-viewÔºâ\r\n          if (banner.linkValue) {\r\n            // TODO: ÂÆûÁé∞Â§ñÈÉ®ÈìæÊé•Ë∑≥ËΩ¨\r\n            uni.showToast({\r\n              title: 'Â§ñÈÉ®ÈìæÊé•ÂäüËÉΩÂºÄÂèë‰∏≠',\r\n              icon: 'none'\r\n            });\r\n          }\r\n          break;\r\n      }\r\n    },\r\n\r\n    // Â§ÑÁêÜÂç°ÁâáÁÇπÂáª - Áõ¥Êé•Ë∑≥ËΩ¨Âà∞ÂïÜÂìÅËØ¶ÊÉÖÈ°µ\r\n    handleCardClick(product) {\r\n      uni.navigateTo({\r\n        url: `/pages/product-detail/product-detail?id=${product.id}`\r\n      });\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.page {\r\n  width: 100%;\r\n  min-height: 100vh;\r\n  position: relative;\r\n  background-color: #f5f5f5;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n/* ËÉåÊôØÂõæÁâá - Èì∫Êª°Êï¥‰∏™È°µÈù¢ */\r\n.bg-image {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 0;\r\n  opacity: 1;\r\n}\r\n\r\n/* È°∂ÈÉ®Ê¨¢ËøéÂå∫Âüü */\r\n.welcome-section {\r\n  position: relative;\r\n  z-index: 1;\r\n  padding: 40rpx 30rpx 30rpx;\r\n  text-align: center;\r\n  background: linear-gradient(180deg, rgba(168, 224, 99, 0.15) 0%, transparent 100%);\r\n}\r\n\r\n.panda-icon {\r\n  font-size: 100rpx;\r\n  margin-bottom: 16rpx;\r\n}\r\n\r\n.welcome-title {\r\n  display: block;\r\n  font-size: 40rpx;\r\n  font-weight: bold;\r\n  color: #333333;\r\n  margin-bottom: 8rpx;\r\n}\r\n\r\n.welcome-subtitle {\r\n  display: block;\r\n  font-size: 26rpx;\r\n  color: #666666;\r\n}\r\n\r\n/* BannerËΩÆÊí≠Âå∫Âüü - Áº©Â∞è */\r\n.banner-section {\r\n  position: relative;\r\n  z-index: 1;\r\n  padding: 0 30rpx;\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.banner-swiper {\r\n  width: 100%;\r\n  height: 240rpx;\r\n  border-radius: 16rpx;\r\n  overflow: hidden;\r\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.banner-content {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.banner-image {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.banner-text {\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  padding: 20rpx;\r\n  background: linear-gradient(to top, rgba(0, 0, 0, 0.6) 0%, transparent 100%);\r\n}\r\n\r\n.banner-title {\r\n  font-size: 28rpx;\r\n  font-weight: bold;\r\n  color: #ffffff;\r\n  text-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.panda-real-image {\r\n  position: absolute;\r\n  top: -260rpx;\r\n  right: 20rpx;\r\n  width: 300rpx;\r\n  height: 300rpx;\r\n  z-index: 10;\r\n}\r\n\r\n/* Âç†‰ΩçÁ©∫Èó¥ÔºåÊé®ÈÄÅÂ∫ïÈÉ®ÂÜÖÂÆπ */\r\n.spacer {\r\n  flex: 0.9;\r\n  min-height: 40rpx;\r\n}\r\n\r\n/* ‰ºöÂëòÂç°Â±ïÁ§∫Âå∫Âüü - Âõ∫ÂÆöÂ∫ïÈÉ®ÔºåÂ∑¶Âè≥ÂàÜÂ∏ÉÔºåÁ∫ØÁôΩËâ≤ËÉåÊôØ */\r\n.cards-section {\r\n  position: relative;\r\n  z-index: 1;\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 20rpx;\r\n  padding: 20rpx 16rpx;\r\n  background-color: #ffffff;\r\n  border-radius: 24rpx;\r\n  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.08);\r\n  margin: 0 20rpx env(safe-area-inset-bottom);\r\n}\r\n\r\n.card-container {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16rpx;\r\n}\r\n\r\n\r\n.card-item {\r\n  position: relative;\r\n  transition: transform 0.2s;\r\n}\r\n\r\n.card-item:active {\r\n  transform: scale(0.95);\r\n}\r\n\r\n.card-image {\r\n  width: 100%;\r\n  height: auto;\r\n  display: block;\r\n}\r\n\r\n.buy-btn {\r\n  width: 100%;\r\n  height: 88rpx;\r\n  background: linear-gradient(135deg, #297512 0%, #3d8b1f 100%);\r\n  color: #ffffff;\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  border-radius: 44rpx;\r\n  border: none;\r\n  line-height: 88rpx;\r\n  box-shadow: 0 4rpx 12rpx rgba(86, 171, 47, 0.3);\r\n}\r\n\r\n.buy-btn::after {\r\n  border: none;\r\n}\r\n\r\n.button-hover {\r\n  opacity: 0.85;\r\n  transform: scale(0.98);\r\n}\r\n\r\n/* Á©∫Áä∂ÊÄÅ */\r\n.empty-state {\r\n  position: relative;\r\n  z-index: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 80rpx 30rpx;\r\n  margin: 0 30rpx;\r\n  background-color: rgba(255, 255, 255, 0.95);\r\n  border-radius: 20rpx;\r\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.08);\r\n}\r\n\r\n.empty-icon {\r\n  font-size: 100rpx;\r\n  margin-bottom: 20rpx;\r\n  opacity: 0.4;\r\n}\r\n\r\n.empty-text {\r\n  font-size: 28rpx;\r\n  color: #999999;\r\n}\r\n</style>\r\n","import MiniProgramPage from 'D:/AAA_idea_java/pandaBase/panda-base-uni-app/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["getActiveBanners","uni","getProductList"],"mappings":";;;;;AAsEA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,SAAS,CAAE;AAAA,MACX,UAAU;AAAA,MACV,WAAW;AAAA,MACX,SAAS;AAAA,IACX;AAAA,EACD;AAAA,EACD,SAAS;AACP,SAAK,YAAW;AAChB,SAAK,aAAY;AAAA,EAClB;AAAA,EACD,SAAS;AAEP,SAAK,aAAY;AAAA,EAClB;AAAA,EACD,SAAS;AAAA;AAAA,IAEP,MAAM,cAAc;AAClB,UAAI;AACF,cAAM,SAAS,MAAMA,WAAAA;AACrB,aAAK,UAAU,UAAU;MACzB,SAAO,OAAO;AACdC,sBAAA,MAAA,MAAA,SAAA,+BAAc,eAAe,KAAK;AAAA,MAEpC;AAAA,IACD;AAAA;AAAA,IAGD,MAAM,eAAe;AACnB,UAAI,KAAK;AAAS;AAElB,WAAK,UAAU;AAEf,UAAI;AACFA,sBAAAA,MAAI,YAAY;AAAA,UACd,OAAO;AAAA,UACP,MAAM;AAAA,QACR,CAAC;AAGD,cAAM,SAAS,MAAMC,2BAAe;AAAA,UAClC,SAAS;AAAA,UACT,UAAU;AAAA,UACV,QAAQ;AAAA;AAAA,QACV,CAAC;AAED,YAAI,UAAU,OAAO,SAAS;AAE5B,eAAK,WAAW,OAAO,QAAQ,KAAK,UAAQ,KAAK,SAAS,CAAC;AAC3D,eAAK,YAAY,OAAO,QAAQ,KAAK,UAAQ,KAAK,SAAS,CAAC;AAAA,QAC9D;AAEAD,sBAAG,MAAC,YAAW;AAAA,MACf,SAAO,OAAO;AACdA,sBAAG,MAAC,YAAW;AACfA,sBAAc,MAAA,MAAA,SAAA,gCAAA,WAAW,KAAK;AAC9BA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QACR,CAAC;AAAA,MACH,UAAU;AACR,aAAK,UAAU;AAAA,MACjB;AAAA,IACD;AAAA;AAAA,IAGD,kBAAkB,QAAQ;AACxB,UAAI,CAAC,OAAO,YAAY,OAAO,aAAa,GAAG;AAC7C;AAAA,MACF;AAEA,cAAQ,OAAO,UAAQ;AAAA,QACrB,KAAK;AAEH,cAAI,OAAO,WAAW;AACpBA,0BAAAA,MAAI,WAAW;AAAA,cACb,KAAK,2CAA2C,OAAO,SAAS;AAAA,YAClE,CAAC;AAAA,UACH;AACA;AAAA,QACF,KAAK;AAEH,cAAI,OAAO,WAAW;AACpBA,0BAAAA,MAAI,WAAW;AAAA,cACb,KAAK,OAAO;AAAA,YACd,CAAC;AAAA,UACH;AACA;AAAA,QACF,KAAK;AAEH,cAAI,OAAO,WAAW;AAEpBA,0BAAAA,MAAI,UAAU;AAAA,cACZ,OAAO;AAAA,cACP,MAAM;AAAA,YACR,CAAC;AAAA,UACH;AACA;AAAA,MACJ;AAAA,IACD;AAAA;AAAA,IAGD,gBAAgB,SAAS;AACvBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,2CAA2C,QAAQ,EAAE;AAAA,MAC5D,CAAC;AAAA,IACH;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnLA,GAAG,WAAW,eAAe;"}