{"version":3,"file":"index.js","sources":["pages/index/index.vue","E:/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\n  <view class=\"page\">\n    <!-- ËÉåÊôØÂõæÁâá - Èì∫Êª°Êï¥‰∏™È°µÈù¢ -->\n    <image class=\"bg-image\" src=\"/static/images/HomepageBackground.png\" mode=\"aspectFill\"></image>\n\n    <!-- Âç†‰ΩçÁ©∫Èó¥ÔºåÂ∞ÜÂ∫ïÈÉ®ÂÜÖÂÆπÊé®Âà∞Â∫ïÈÉ® -->\n    <view class=\"spacer\"></view>\n\n    <!-- BannerËΩÆÊí≠ - Áº©Â∞èÂ∞∫ÂØ∏ -->\n    <view class=\"banner-section\" v-if=\"banners.length > 0\">\n      <swiper\n          class=\"banner-swiper\"\n          :indicator-dots=\"true\"\n          :autoplay=\"true\"\n          :interval=\"3000\"\n          :duration=\"500\"\n          :circular=\"true\"\n          indicator-color=\"rgba(255, 255, 255, 0.5)\"\n          indicator-active-color=\"#90d26c\"\n      >\n        <swiper-item v-for=\"banner in banners\" :key=\"banner.id\" @click=\"handleBannerClick(banner)\">\n          <view class=\"banner-content\">\n            <image class=\"banner-image\" :src=\"banner.imageUrl\" mode=\"aspectFill\"></image>\n            <view class=\"banner-text\" v-if=\"banner.title\">\n              <text class=\"banner-title\">{{ banner.title }}</text>\n            </view>\n          </view>\n        </swiper-item>\n      </swiper>\n      \n      <!-- ÁÜäÁå´ÂÜôÂÆûÂõæÁâá -->\n      <image class=\"panda-real-image\" src=\"/static/images/ÁÜäÁå´ÂÜôÂÆû.png\" mode=\"aspectFit\"></image>\n    </view>\n\n    <!-- ‰ºöÂëòÂç°Â±ïÁ§∫ - Âõ∫ÂÆöÂ∫ïÈÉ®ÔºåÂ∑¶Âè≥ÂàÜÂ∏ÉÔºåÁ∫ØÂõæÁâá -->\n    <view class=\"cards-section\">\n      <!-- Âπ¥Âç° -->\n      <view class=\"card-container\" v-if=\"yearCard\">\n        <view class=\"card-item\" @click=\"handleCardClick(yearCard)\">\n          <image class=\"card-image\" src=\"/static/images/Âπ¥Âç°VIP.png\" mode=\"widthFix\"></image>\n        </view>\n        <button class=\"buy-btn\" @click=\"handleCardClick(yearCard)\" hover-class=\"button-hover\">\n          Á´ãÂç≥Ë¥≠‰π∞\n        </button>\n      </view>\n\n      <!-- ÊúàÂç° -->\n      <view class=\"card-container\" v-if=\"monthCard\">\n        <view class=\"card-item\" @click=\"handleCardClick(monthCard)\">\n          <image class=\"card-image\" src=\"/static/images/ÊúàÂç°VIP.png\" mode=\"widthFix\"></image>\n        </view>\n        <button class=\"buy-btn\" @click=\"handleCardClick(monthCard)\" hover-class=\"button-hover\">\n          Á´ãÂç≥Ë¥≠‰π∞\n        </button>\n      </view>\n    </view>\n\n    <!-- Á©∫Áä∂ÊÄÅ -->\n    <view class=\"empty-state\" v-if=\"!yearCard && !monthCard && !loading\">\n      <view class=\"empty-icon\">üêº</view>\n      <text class=\"empty-text\">ÊöÇÊó†ÂèØË¥≠‰π∞ÁöÑÂïÜÂìÅ</text>\n    </view>\n  </view>\n</template>\n\n<script>\nimport {getProductList} from '../../api/product.js';\nimport {getActiveBanners} from '../../api/banner.js';\nimport {isLoggedIn} from '../../utils/auth.js';\n\nexport default {\n  data() {\n    return {\n      banners: [],\n      yearCard: null,\n      monthCard: null,\n      loading: false\n    }\n  },\n  onLoad() {\n    this.loadBanners();\n    this.loadProducts();\n  },\n  onShow() {\n    // ÊØèÊ¨°ÊòæÁ§∫È°µÈù¢Êó∂Âà∑Êñ∞Êï∞ÊçÆ\n    this.loadProducts();\n  },\n  methods: {\n    // Âä†ËΩΩBannerÊï∞ÊçÆ\n    async loadBanners() {\n      try {\n        const result = await getActiveBanners();\n        this.banners = result || [];\n      } catch (error) {\n        console.error('Âä†ËΩΩBannerÂ§±Ë¥•:', error);\n        // BannerÂä†ËΩΩÂ§±Ë¥•‰∏çÂΩ±Âìç‰∏ªË¶ÅÂäüËÉΩÔºåÈùôÈªòÂ§ÑÁêÜ\n      }\n    },\n\n    // Âä†ËΩΩÂïÜÂìÅÊï∞ÊçÆ\n    async loadProducts() {\n      if (this.loading) return;\n\n      this.loading = true;\n\n      try {\n        uni.showLoading({\n          title: 'Âä†ËΩΩ‰∏≠...',\n          mask: true\n        });\n\n        // Ëé∑ÂèñÂïÜÂìÅÂàóË°®Ôºåtype=1ÊòØÂπ¥Âç°Ôºåtype=2ÊòØÊúàÂç°\n        const result = await getProductList({\n          pageNum: 1,\n          pageSize: 10,\n          status: 1 // Âè™Êü•ËØ¢‰∏äÊû∂ÂïÜÂìÅ\n        });\n\n        if (result && result.records) {\n          // Á≠õÈÄâÂπ¥Âç°ÂíåÊúàÂç°\n          this.yearCard = result.records.find(item => item.type === 1);\n          this.monthCard = result.records.find(item => item.type === 2);\n        }\n\n        uni.hideLoading();\n      } catch (error) {\n        uni.hideLoading();\n        console.error('Âä†ËΩΩÂïÜÂìÅÂ§±Ë¥•:', error);\n        uni.showToast({\n          title: 'Âä†ËΩΩÂ§±Ë¥•ÔºåËØ∑ÈáçËØï',\n          icon: 'none'\n        });\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    // Â§ÑÁêÜBannerÁÇπÂáª\n    handleBannerClick(banner) {\n      if (!banner.linkType || banner.linkType === 0) {\n        return; // Êó†Ë∑≥ËΩ¨\n      }\n\n      switch (banner.linkType) {\n        case 1:\n          // ÂïÜÂìÅËØ¶ÊÉÖ\n          if (banner.linkValue) {\n            uni.navigateTo({\n              url: `/pages/product-detail/product-detail?id=${banner.linkValue}`\n            });\n          }\n          break;\n        case 2:\n          // È°µÈù¢Ë∑≥ËΩ¨\n          if (banner.linkValue) {\n            uni.navigateTo({\n              url: banner.linkValue\n            });\n          }\n          break;\n        case 3:\n          // Â§ñÈÉ®ÈìæÊé•ÔºàÂ∞èÁ®ãÂ∫è‰∏≠ÂèØ‰ª•‰ΩøÁî®web-viewÔºâ\n          if (banner.linkValue) {\n            // TODO: ÂÆûÁé∞Â§ñÈÉ®ÈìæÊé•Ë∑≥ËΩ¨\n            uni.showToast({\n              title: 'Â§ñÈÉ®ÈìæÊé•ÂäüËÉΩÂºÄÂèë‰∏≠',\n              icon: 'none'\n            });\n          }\n          break;\n      }\n    },\n\n    // Â§ÑÁêÜÂç°ÁâáÁÇπÂáª - Áõ¥Êé•Ë∑≥ËΩ¨Âà∞ÂïÜÂìÅËØ¶ÊÉÖÈ°µ\n    handleCardClick(product) {\n      uni.navigateTo({\n        url: `/pages/product-detail/product-detail?id=${product.id}`\n      });\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.page {\n  width: 100%;\n  min-height: 100vh;\n  position: relative;\n  background-color: #f5f5f5;\n  display: flex;\n  flex-direction: column;\n}\n\n/* ËÉåÊôØÂõæÁâá - Èì∫Êª°Êï¥‰∏™È°µÈù¢ */\n.bg-image {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 0;\n  opacity: 1;\n}\n\n/* È°∂ÈÉ®Ê¨¢ËøéÂå∫Âüü */\n.welcome-section {\n  position: relative;\n  z-index: 1;\n  padding: 40rpx 30rpx 30rpx;\n  text-align: center;\n  background: linear-gradient(180deg, rgba(168, 224, 99, 0.15) 0%, transparent 100%);\n}\n\n.panda-icon {\n  font-size: 100rpx;\n  margin-bottom: 16rpx;\n}\n\n.welcome-title {\n  display: block;\n  font-size: 40rpx;\n  font-weight: bold;\n  color: #333333;\n  margin-bottom: 8rpx;\n}\n\n.welcome-subtitle {\n  display: block;\n  font-size: 26rpx;\n  color: #666666;\n}\n\n/* BannerËΩÆÊí≠Âå∫Âüü - Áº©Â∞è */\n.banner-section {\n  position: relative;\n  z-index: 1;\n  padding: 0 30rpx;\n  margin-bottom: 30rpx;\n}\n\n.banner-swiper {\n  width: 100%;\n  height: 240rpx;\n  border-radius: 16rpx;\n  overflow: hidden;\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.1);\n}\n\n.banner-content {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n\n.banner-image {\n  width: 100%;\n  height: 100%;\n}\n\n.banner-text {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  padding: 20rpx;\n  background: linear-gradient(to top, rgba(0, 0, 0, 0.6) 0%, transparent 100%);\n}\n\n.banner-title {\n  font-size: 28rpx;\n  font-weight: bold;\n  color: #ffffff;\n  text-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.3);\n}\n\n.panda-real-image {\n  position: absolute;\n  top: -260rpx;\n  right: 20rpx;\n  width: 300rpx;\n  height: 300rpx;\n  z-index: 10;\n}\n\n/* Âç†‰ΩçÁ©∫Èó¥ÔºåÊé®ÈÄÅÂ∫ïÈÉ®ÂÜÖÂÆπ */\n.spacer {\n  flex: 0.9;\n  min-height: 40rpx;\n}\n\n/* ‰ºöÂëòÂç°Â±ïÁ§∫Âå∫Âüü - Âõ∫ÂÆöÂ∫ïÈÉ®ÔºåÂ∑¶Âè≥ÂàÜÂ∏ÉÔºåÁ∫ØÁôΩËâ≤ËÉåÊôØ */\n.cards-section {\n  position: relative;\n  z-index: 1;\n  display: flex;\n  flex-direction: row;\n  gap: 20rpx;\n  padding: 20rpx 16rpx;\n  background-color: #ffffff;\n  border-radius: 24rpx;\n  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.08);\n  margin: 0 20rpx env(safe-area-inset-bottom);\n}\n\n.card-container {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 16rpx;\n}\n\n\n.card-item {\n  position: relative;\n  transition: transform 0.2s;\n}\n\n.card-item:active {\n  transform: scale(0.95);\n}\n\n.card-image {\n  width: 100%;\n  height: auto;\n  display: block;\n}\n\n.buy-btn {\n  width: 100%;\n  height: 88rpx;\n  background: linear-gradient(135deg, #297512 0%, #3d8b1f 100%);\n  color: #ffffff;\n  font-size: 32rpx;\n  font-weight: bold;\n  border-radius: 44rpx;\n  border: none;\n  line-height: 88rpx;\n  box-shadow: 0 4rpx 12rpx rgba(86, 171, 47, 0.3);\n}\n\n.buy-btn::after {\n  border: none;\n}\n\n.button-hover {\n  opacity: 0.85;\n  transform: scale(0.98);\n}\n\n/* Á©∫Áä∂ÊÄÅ */\n.empty-state {\n  position: relative;\n  z-index: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 80rpx 30rpx;\n  margin: 0 30rpx;\n  background-color: rgba(255, 255, 255, 0.95);\n  border-radius: 20rpx;\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.08);\n}\n\n.empty-icon {\n  font-size: 100rpx;\n  margin-bottom: 20rpx;\n  opacity: 0.4;\n}\n\n.empty-text {\n  font-size: 28rpx;\n  color: #999999;\n}\n</style>\n","import MiniProgramPage from 'D:/AAA_idea_java/pandaBase/panda-base-uni-app/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["getActiveBanners","uni","getProductList"],"mappings":";;;;;AAsEA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,SAAS,CAAE;AAAA,MACX,UAAU;AAAA,MACV,WAAW;AAAA,MACX,SAAS;AAAA,IACX;AAAA,EACD;AAAA,EACD,SAAS;AACP,SAAK,YAAW;AAChB,SAAK,aAAY;AAAA,EAClB;AAAA,EACD,SAAS;AAEP,SAAK,aAAY;AAAA,EAClB;AAAA,EACD,SAAS;AAAA;AAAA,IAEP,MAAM,cAAc;AAClB,UAAI;AACF,cAAM,SAAS,MAAMA,WAAAA;AACrB,aAAK,UAAU,UAAU;MACzB,SAAO,OAAO;AACdC,sBAAA,MAAA,MAAA,SAAA,+BAAc,eAAe,KAAK;AAAA,MAEpC;AAAA,IACD;AAAA;AAAA,IAGD,MAAM,eAAe;AACnB,UAAI,KAAK;AAAS;AAElB,WAAK,UAAU;AAEf,UAAI;AACFA,sBAAAA,MAAI,YAAY;AAAA,UACd,OAAO;AAAA,UACP,MAAM;AAAA,QACR,CAAC;AAGD,cAAM,SAAS,MAAMC,2BAAe;AAAA,UAClC,SAAS;AAAA,UACT,UAAU;AAAA,UACV,QAAQ;AAAA;AAAA,QACV,CAAC;AAED,YAAI,UAAU,OAAO,SAAS;AAE5B,eAAK,WAAW,OAAO,QAAQ,KAAK,UAAQ,KAAK,SAAS,CAAC;AAC3D,eAAK,YAAY,OAAO,QAAQ,KAAK,UAAQ,KAAK,SAAS,CAAC;AAAA,QAC9D;AAEAD,sBAAG,MAAC,YAAW;AAAA,MACf,SAAO,OAAO;AACdA,sBAAG,MAAC,YAAW;AACfA,sBAAA,MAAA,MAAA,SAAA,gCAAc,WAAW,KAAK;AAC9BA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QACR,CAAC;AAAA,MACH,UAAU;AACR,aAAK,UAAU;AAAA,MACjB;AAAA,IACD;AAAA;AAAA,IAGD,kBAAkB,QAAQ;AACxB,UAAI,CAAC,OAAO,YAAY,OAAO,aAAa,GAAG;AAC7C;AAAA,MACF;AAEA,cAAQ,OAAO,UAAQ;AAAA,QACrB,KAAK;AAEH,cAAI,OAAO,WAAW;AACpBA,0BAAAA,MAAI,WAAW;AAAA,cACb,KAAK,2CAA2C,OAAO,SAAS;AAAA,YAClE,CAAC;AAAA,UACH;AACA;AAAA,QACF,KAAK;AAEH,cAAI,OAAO,WAAW;AACpBA,0BAAAA,MAAI,WAAW;AAAA,cACb,KAAK,OAAO;AAAA,YACd,CAAC;AAAA,UACH;AACA;AAAA,QACF,KAAK;AAEH,cAAI,OAAO,WAAW;AAEpBA,0BAAAA,MAAI,UAAU;AAAA,cACZ,OAAO;AAAA,cACP,MAAM;AAAA,YACR,CAAC;AAAA,UACH;AACA;AAAA,MACJ;AAAA,IACD;AAAA;AAAA,IAGD,gBAAgB,SAAS;AACvBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,2CAA2C,QAAQ,EAAE;AAAA,MAC5D,CAAC;AAAA,IACH;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnLA,GAAG,WAAW,eAAe;"}