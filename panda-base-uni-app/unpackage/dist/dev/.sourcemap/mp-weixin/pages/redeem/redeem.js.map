{"version":3,"file":"redeem.js","sources":["pages/redeem/redeem.vue","E:/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcmVkZWVtL3JlZGVlbS52dWU"],"sourcesContent":["<template>\n\t<view class=\"page\">\n\t\t<view class=\"container\">\n\t\t\t<!-- æ ‡é¢˜è¯´æ˜ -->\n\t\t\t<view class=\"header-section\">\n\t\t\t\t<view class=\"panda-icon\">ğŸ</view>\n\t\t\t\t<text class=\"title\">ç¤¼å“å…‘æ¢</text>\n\t\t\t\t<text class=\"subtitle\">è¯·è¾“å…¥æ‚¨çš„å…‘æ¢ç è¿›è¡Œå…‘æ¢</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- å…‘æ¢ç è¾“å…¥ -->\n\t\t\t<view class=\"input-section\">\n\t\t\t\t<view class=\"input-header\">\n\t\t\t\t\t<text class=\"input-label\">å…‘æ¢ç </text>\n\t\t\t\t\t<text class=\"input-tip\">(åŒºåˆ†å¤§å°å†™)</text>\n\t\t\t\t</view>\n\t\t\t\t<input \n\t\t\t\t\tclass=\"code-input\" \n\t\t\t\t\tv-model=\"code\" \n\t\t\t\t\tplaceholder=\"è¯·è¾“å…¥å…‘æ¢ç \"\n\t\t\t\t\tplaceholder-class=\"placeholder\"\n\t\t\t\t\t:maxlength=\"50\"\n\t\t\t\t/>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- å…‘æ¢è¯´æ˜ -->\n\t\t\t<view class=\"tips-section\">\n\t\t\t\t<view class=\"tips-title\">\n\t\t\t\t\t<text class=\"tips-icon\">ğŸ’¡</text>\n\t\t\t\t\t<text>å…‘æ¢è¯´æ˜</text>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"tip-item\">â€¢ æ¯ä¸ªå…‘æ¢ç ä»…å¯ä½¿ç”¨ä¸€æ¬¡</text>\n\t\t\t\t<text class=\"tip-item\">â€¢ è™šæ‹Ÿå•†å“å…‘æ¢åè‡ªåŠ¨ç”Ÿæˆä¼šå‘˜å¡</text>\n\t\t\t\t<text class=\"tip-item\">â€¢ å®ç‰©å•†å“éœ€å¡«å†™æ”¶è´§åœ°å€</text>\n\t\t\t\t<text class=\"tip-item\">â€¢ å…‘æ¢ç æœ‰æ•ˆæœŸä¸º1å¹´ï¼Œè¯·åŠæ—¶ä½¿ç”¨</text>\n\t\t\t\t<text class=\"tip-item\">â€¢ å¦‚æœ‰ç–‘é—®ï¼Œè¯·è”ç³»å®¢æœå’¨è¯¢</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- å®¢æœå¸®åŠ© -->\n\t\t\t<view class=\"service-section\">\n\t\t\t\t<text class=\"service-tip\">å…‘æ¢é‡åˆ°é—®é¢˜ï¼Ÿ</text>\n\t\t\t\t<view class=\"service-btn\" @click=\"handleContactService\" hover-class=\"button-hover\">\n\t\t\t\t\t<text class=\"service-emoji\">ğŸ’¬</text>\n\t\t\t\t\t<text>è”ç³»å®¢æœ</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- åº•éƒ¨å…‘æ¢æŒ‰é’® -->\n\t\t<view class=\"bottom-bar\">\n\t\t\t<button class=\"redeem-btn\" @click=\"handleRedeem\" :loading=\"redeeming\" :disabled=\"!code.trim()\" hover-class=\"button-hover\">ç«‹å³å…‘æ¢</button>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nimport { redeemCode } from '../../api/redemption.js';\nimport { openCustomerServiceForRedemption } from '../../utils/customer-service.js';\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tcode: '',\n\t\t\tredeeming: false\n\t\t}\n\t},\n\tmethods: {\n\t\t// å¤„ç†å…‘æ¢\n\t\tasync handleRedeem() {\n\t\t\t// éªŒè¯å…‘æ¢ç \n\t\t\tif (!this.code || this.code.trim() === '') {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'è¯·è¾“å…¥å…‘æ¢ç ',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tif (this.redeeming) return; // é˜²æ­¢é‡å¤æäº¤\n\t\t\t\n\t\t\tthis.redeeming = true;\n\t\t\t\n\t\t\ttry {\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: 'å…‘æ¢ä¸­...',\n\t\t\t\t\tmask: true\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tawait redeemCode({\n\t\t\t\t\tcode: this.code.trim()\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tuni.hideLoading();\n\t\t\t\t\n\t\t\t\t// å…‘æ¢æˆåŠŸ\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: 'å…‘æ¢æˆåŠŸ',\n\t\t\t\t\tcontent: 'æ­å–œæ‚¨ï¼Œå…‘æ¢æˆåŠŸï¼è™šæ‹Ÿå•†å“å¯åœ¨\"æˆ‘çš„ä¼šå‘˜å¡\"ä¸­æŸ¥çœ‹ï¼Œå®ç‰©å•†å“ç­‰å¾…å‘è´§',\n\t\t\t\t\tconfirmText: 'æŸ¥çœ‹ä¼šå‘˜å¡',\n\t\t\t\t\tcancelText: 'æŸ¥çœ‹è®°å½•',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t// è·³è½¬åˆ°ä¼šå‘˜å¡é¡µé¢\n\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\turl: '/pages/my-cards/my-cards'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// è·³è½¬åˆ°å…‘æ¢è®°å½•\n\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\turl: '/pages/redemption-records/redemption-records'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t// æ¸…ç©ºè¾“å…¥æ¡†\n\t\t\t\tthis.code = '';\n\t\t\t\t\n\t\t\t} catch (error) {\n\t\t\t\tuni.hideLoading();\n\t\t\t\tconsole.error('å…‘æ¢å¤±è´¥:', error);\n\t\t\t\t// é”™è¯¯ä¿¡æ¯å·²åœ¨ request.js ä¸­å¤„ç†\n\t\t\t} finally {\n\t\t\t\tthis.redeeming = false;\n\t\t\t}\n\t\t},\n\t\t\n\t\t// è”ç³»å®¢æœï¼ˆæ–°ç‰ˆAPIï¼‰\n\t\thandleContactService() {\n\t\t\topenCustomerServiceForRedemption({\n\t\t\t\tcode: this.code || ''\n\t\t\t});\n\t\t}\n\t}\n}\n</script>\n\n<style scoped lang=\"scss\">\n.page {\n\tmin-height: 100vh;\n\tbackground: linear-gradient(180deg, #f0f9f0 0%, #ffffff 50%, #f5f5f5 100%);\n\tpadding-bottom: 140rpx;\n}\n\n.container {\n\tpadding: 40rpx 30rpx;\n}\n\n/* æ ‡é¢˜è¯´æ˜ */\n.header-section {\n\ttext-align: center;\n\tmargin-bottom: 60rpx;\n}\n\n.panda-icon {\n\tfont-size: 100rpx;\n\tmargin-bottom: 20rpx;\n}\n\n.title {\n\tdisplay: block;\n\tfont-size: 48rpx;\n\tfont-weight: bold;\n\tcolor: #333333;\n\tmargin-bottom: 16rpx;\n}\n\n.subtitle {\n\tdisplay: block;\n\tfont-size: 28rpx;\n\tcolor: #666666;\n}\n\n/* å…‘æ¢ç è¾“å…¥ */\n.input-section {\n\tbackground-color: #ffffff;\n\tborder-radius: 20rpx;\n\tpadding: 40rpx 30rpx;\n\tmargin-bottom: 40rpx;\n\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.08);\n\tborder: 2rpx solid #90d26c;\n}\n\n.input-header {\n\tdisplay: flex;\n\talign-items: baseline;\n\tmargin-bottom: 20rpx;\n}\n\n.input-label {\n\tfont-size: 28rpx;\n\tcolor: #333333;\n\tfont-weight: bold;\n}\n\n.input-tip {\n\tfont-size: 22rpx;\n\tcolor: #999999;\n\tmargin-left: 12rpx;\n}\n\n.code-input {\n\twidth: 90%;\n\theight: 88rpx;\n\tbackground-color: #f5f5f5;\n\tborder-radius: 12rpx;\n\tpadding: 0 24rpx;\n\tfont-size: 32rpx;\n\tcolor: #333333;\n\ttext-align: center;\n\tletter-spacing: 2rpx;\n\tborder: 1rpx solid #e0e0e0;\n}\n\n.placeholder {\n\tcolor: #999999;\n\tletter-spacing: 0;\n}\n\n/* å…‘æ¢è¯´æ˜ */\n.tips-section {\n\tbackground-color: #ffffff;\n\tborder-radius: 20rpx;\n\tpadding: 30rpx;\n\tborder-left: 4rpx solid #90d26c;\n\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\n}\n\n.tips-title {\n\tdisplay: flex;\n\talign-items: center;\n\tfont-size: 28rpx;\n\tfont-weight: bold;\n\tcolor: #333333;\n\tmargin-bottom: 20rpx;\n}\n\n.tips-icon {\n\tfont-size: 28rpx;\n\tmargin-right: 8rpx;\n}\n\n.tip-item {\n\tdisplay: block;\n\tfont-size: 26rpx;\n\tcolor: #666666;\n\tline-height: 2;\n\tmargin-bottom: 8rpx;\n}\n\n.tip-item:last-child {\n\tmargin-bottom: 0;\n}\n\n/* åº•éƒ¨æŒ‰é’® */\n.bottom-bar {\n\tposition: fixed;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\tbackground-color: #ffffff;\n\tpadding: 20rpx 30rpx;\n\tbox-shadow: 0 -2rpx 10rpx rgba(0, 0, 0, 0.05);\n\tz-index: 100;\n}\n\n.redeem-btn {\n\twidth: 100%;\n\theight: 88rpx;\n\tbackground: linear-gradient(135deg, #a8e063 0%, #297512 100%);\n\tborder-radius: 44rpx;\n\tfont-size: 32rpx;\n\tfont-weight: bold;\n\tcolor: #ffffff;\n\tborder: none;\n\tline-height: 88rpx;\n}\n\n.redeem-btn[disabled] {\n\topacity: 0.5;\n}\n\n.redeem-btn::after {\n\tborder: none;\n}\n\n/* å®¢æœå¸®åŠ©åŒºåŸŸ */\n.service-section {\n\tbackground-color: #ffffff;\n\tpadding: 30rpx;\n\tmargin: 20rpx 30rpx;\n\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\n\tborder-radius: 16rpx;\n\ttext-align: center;\n}\n\n.service-tip {\n\tdisplay: block;\n\tfont-size: 26rpx;\n\tcolor: #999999;\n\tmargin-bottom: 20rpx;\n}\n\n.service-btn {\n\twidth: 100%;\n\theight: 80rpx;\n\tbackground: linear-gradient(135deg, #4CAF50 0%, #297512 100%);\n\tcolor: #ffffff;\n\tfont-size: 30rpx;\n\tfont-weight: bold;\n\tborder-radius: 40rpx;\n\tborder: none;\n\tline-height: 80rpx;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 0;\n}\n\n.service-btn::after {\n\tborder: none;\n}\n\n.service-emoji {\n\tmargin-right: 8rpx;\n\tfont-size: 32rpx;\n}\n\n.button-hover {\n\topacity: 0.85;\n}\n</style>\n","import MiniProgramPage from 'D:/AAA_idea_java/pandaBase/panda-base-uni-app/pages/redeem/redeem.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","redeemCode","openCustomerServiceForRedemption"],"mappings":";;;;AA2DA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,MAAM;AAAA,MACN,WAAW;AAAA,IACZ;AAAA,EACA;AAAA,EACD,SAAS;AAAA;AAAA,IAER,MAAM,eAAe;AAEpB,UAAI,CAAC,KAAK,QAAQ,KAAK,KAAK,WAAW,IAAI;AAC1CA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AACD;AAAA,MACD;AAEA,UAAI,KAAK;AAAW;AAEpB,WAAK,YAAY;AAEjB,UAAI;AACHA,sBAAAA,MAAI,YAAY;AAAA,UACf,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AAED,cAAMC,0BAAW;AAAA,UAChB,MAAM,KAAK,KAAK,KAAK;AAAA,QACtB,CAAC;AAEDD,sBAAG,MAAC,YAAW;AAGfA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,SAAS;AAAA,UACT,aAAa;AAAA,UACb,YAAY;AAAA,UACZ,SAAS,CAAC,QAAQ;AACjB,gBAAI,IAAI,SAAS;AAEhBA,4BAAAA,MAAI,WAAW;AAAA,gBACd,KAAK;AAAA,cACN,CAAC;AAAA,mBACK;AAENA,4BAAAA,MAAI,WAAW;AAAA,gBACd,KAAK;AAAA,cACN,CAAC;AAAA,YACF;AAAA,UACD;AAAA,QACD,CAAC;AAGD,aAAK,OAAO;AAAA,MAEX,SAAO,OAAO;AACfA,sBAAG,MAAC,YAAW;AACfA,6EAAc,SAAS,KAAK;AAAA,MAE7B,UAAU;AACT,aAAK,YAAY;AAAA,MAClB;AAAA,IACA;AAAA;AAAA,IAGD,uBAAuB;AACtBE,6DAAiC;AAAA,QAChC,MAAM,KAAK,QAAQ;AAAA,MACpB,CAAC;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;ACrIA,GAAG,WAAW,eAAe;"}