{"version":3,"file":"redeem.js","sources":["pages/redeem/redeem.vue","E:/HBuilderX.4.76.2025082103/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcmVkZWVtL3JlZGVlbS52dWU"],"sourcesContent":["<template>\r\n\t<view class=\"page\">\r\n\t\t<view class=\"container\">\r\n\t\t\t<!-- æ ‡é¢˜è¯´æ˜ -->\r\n\t\t\t<view class=\"header-section\">\r\n\t\t\t\t<view class=\"panda-icon\">ğŸ</view>\r\n\t\t\t\t<text class=\"title\">ç¤¼å“å…‘æ¢</text>\r\n\t\t\t\t<text class=\"subtitle\">è¯·è¾“å…¥æ‚¨çš„å…‘æ¢ç è¿›è¡Œå…‘æ¢</text>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- å…‘æ¢ç è¾“å…¥ -->\r\n\t\t\t<view class=\"input-section\">\r\n\t\t\t\t<view class=\"input-header\">\r\n\t\t\t\t\t<text class=\"input-label\">å…‘æ¢ç </text>\r\n\t\t\t\t\t<text class=\"input-tip\">(åŒºåˆ†å¤§å°å†™)</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<input \r\n\t\t\t\t\tclass=\"code-input\" \r\n\t\t\t\t\tv-model=\"code\" \r\n\t\t\t\t\tplaceholder=\"è¯·è¾“å…¥å…‘æ¢ç \"\r\n\t\t\t\t\tplaceholder-class=\"placeholder\"\r\n\t\t\t\t\t:maxlength=\"50\"\r\n\t\t\t\t/>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- å…‘æ¢è¯´æ˜ -->\r\n\t\t\t<view class=\"tips-section\">\r\n\t\t\t\t<view class=\"tips-title\">\r\n\t\t\t\t\t<text class=\"tips-icon\">ğŸ’¡</text>\r\n\t\t\t\t\t<text>å…‘æ¢è¯´æ˜</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<text class=\"tip-item\">â€¢ æ¯ä¸ªå…‘æ¢ç ä»…å¯ä½¿ç”¨ä¸€æ¬¡</text>\r\n\t\t\t\t<text class=\"tip-item\">â€¢ è™šæ‹Ÿå•†å“å…‘æ¢åè‡ªåŠ¨ç”Ÿæˆä¼šå‘˜å¡</text>\r\n\t\t\t\t<text class=\"tip-item\">â€¢ å®ç‰©å•†å“éœ€å¡«å†™æ”¶è´§åœ°å€</text>\r\n\t\t\t\t<text class=\"tip-item\">â€¢ å…‘æ¢ç æœ‰æ•ˆæœŸä¸º1å¹´ï¼Œè¯·åŠæ—¶ä½¿ç”¨</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- åº•éƒ¨å…‘æ¢æŒ‰é’® -->\r\n\t\t<view class=\"bottom-bar\">\r\n\t\t\t<button class=\"redeem-btn\" @click=\"handleRedeem\" :loading=\"redeeming\" :disabled=\"!code.trim()\" hover-class=\"button-hover\">ç«‹å³å…‘æ¢</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport { redeemCode } from '../../api/redemption.js';\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcode: '',\r\n\t\t\tredeeming: false\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t// å¤„ç†å…‘æ¢\r\n\t\tasync handleRedeem() {\r\n\t\t\t// éªŒè¯å…‘æ¢ç \r\n\t\t\tif (!this.code || this.code.trim() === '') {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: 'è¯·è¾“å…¥å…‘æ¢ç ',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (this.redeeming) return; // é˜²æ­¢é‡å¤æäº¤\r\n\t\t\t\r\n\t\t\tthis.redeeming = true;\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: 'å…‘æ¢ä¸­...',\r\n\t\t\t\t\tmask: true\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tawait redeemCode({\r\n\t\t\t\t\tcode: this.code.trim()\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\r\n\t\t\t\t// å…‘æ¢æˆåŠŸ\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: 'å…‘æ¢æˆåŠŸ',\r\n\t\t\t\t\tcontent: 'æ­å–œæ‚¨ï¼Œå…‘æ¢æˆåŠŸï¼è™šæ‹Ÿå•†å“å¯åœ¨\"æˆ‘çš„ä¼šå‘˜å¡\"ä¸­æŸ¥çœ‹ï¼Œå®ç‰©å•†å“ç­‰å¾…å‘è´§',\r\n\t\t\t\t\tconfirmText: 'æŸ¥çœ‹ä¼šå‘˜å¡',\r\n\t\t\t\t\tcancelText: 'æŸ¥çœ‹è®°å½•',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t// è·³è½¬åˆ°ä¼šå‘˜å¡é¡µé¢\r\n\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\turl: '/pages/my-cards/my-cards'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// è·³è½¬åˆ°å…‘æ¢è®°å½•\r\n\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\turl: '/pages/redemption-records/redemption-records'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t// æ¸…ç©ºè¾“å…¥æ¡†\r\n\t\t\t\tthis.code = '';\r\n\t\t\t\t\r\n\t\t\t} catch (error) {\r\n\t\t\t\tuni.hideLoading();\r\n\t\t\t\tconsole.error('å…‘æ¢å¤±è´¥:', error);\r\n\t\t\t\t// é”™è¯¯ä¿¡æ¯å·²åœ¨ request.js ä¸­å¤„ç†\r\n\t\t\t} finally {\r\n\t\t\t\tthis.redeeming = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.page {\r\n\tmin-height: 100vh;\r\n\tbackground: linear-gradient(180deg, #f0f9f0 0%, #ffffff 50%, #f5f5f5 100%);\r\n\tpadding-bottom: 140rpx;\r\n}\r\n\r\n.container {\r\n\tpadding: 40rpx 30rpx;\r\n}\r\n\r\n/* æ ‡é¢˜è¯´æ˜ */\r\n.header-section {\r\n\ttext-align: center;\r\n\tmargin-bottom: 60rpx;\r\n}\r\n\r\n.panda-icon {\r\n\tfont-size: 100rpx;\r\n\tmargin-bottom: 20rpx;\r\n}\r\n\r\n.title {\r\n\tdisplay: block;\r\n\tfont-size: 48rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #333333;\r\n\tmargin-bottom: 16rpx;\r\n}\r\n\r\n.subtitle {\r\n\tdisplay: block;\r\n\tfont-size: 28rpx;\r\n\tcolor: #666666;\r\n}\r\n\r\n/* å…‘æ¢ç è¾“å…¥ */\r\n.input-section {\r\n\tbackground-color: #ffffff;\r\n\tborder-radius: 20rpx;\r\n\tpadding: 40rpx 30rpx;\r\n\tmargin-bottom: 40rpx;\r\n\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.08);\r\n\tborder: 2rpx solid #90d26c;\r\n}\r\n\r\n.input-header {\r\n\tdisplay: flex;\r\n\talign-items: baseline;\r\n\tmargin-bottom: 20rpx;\r\n}\r\n\r\n.input-label {\r\n\tfont-size: 28rpx;\r\n\tcolor: #333333;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.input-tip {\r\n\tfont-size: 22rpx;\r\n\tcolor: #999999;\r\n\tmargin-left: 12rpx;\r\n}\r\n\r\n.code-input {\r\n\twidth: 90%;\r\n\theight: 88rpx;\r\n\tbackground-color: #f5f5f5;\r\n\tborder-radius: 12rpx;\r\n\tpadding: 0 24rpx;\r\n\tfont-size: 32rpx;\r\n\tcolor: #333333;\r\n\ttext-align: center;\r\n\tletter-spacing: 2rpx;\r\n\tborder: 1rpx solid #e0e0e0;\r\n}\r\n\r\n.placeholder {\r\n\tcolor: #999999;\r\n\tletter-spacing: 0;\r\n}\r\n\r\n/* å…‘æ¢è¯´æ˜ */\r\n.tips-section {\r\n\tbackground-color: #ffffff;\r\n\tborder-radius: 20rpx;\r\n\tpadding: 30rpx;\r\n\tborder-left: 4rpx solid #90d26c;\r\n\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.tips-title {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tfont-size: 28rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #333333;\r\n\tmargin-bottom: 20rpx;\r\n}\r\n\r\n.tips-icon {\r\n\tfont-size: 28rpx;\r\n\tmargin-right: 8rpx;\r\n}\r\n\r\n.tip-item {\r\n\tdisplay: block;\r\n\tfont-size: 26rpx;\r\n\tcolor: #666666;\r\n\tline-height: 2;\r\n\tmargin-bottom: 8rpx;\r\n}\r\n\r\n.tip-item:last-child {\r\n\tmargin-bottom: 0;\r\n}\r\n\r\n/* åº•éƒ¨æŒ‰é’® */\r\n.bottom-bar {\r\n\tposition: fixed;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbackground-color: #ffffff;\r\n\tpadding: 20rpx 30rpx;\r\n\tbox-shadow: 0 -2rpx 10rpx rgba(0, 0, 0, 0.05);\r\n\tz-index: 100;\r\n}\r\n\r\n.redeem-btn {\r\n\twidth: 100%;\r\n\theight: 88rpx;\r\n\tbackground: linear-gradient(135deg, #a8e063 0%, #297512 100%);\r\n\tborder-radius: 44rpx;\r\n\tfont-size: 32rpx;\r\n\tfont-weight: bold;\r\n\tcolor: #ffffff;\r\n\tborder: none;\r\n\tline-height: 88rpx;\r\n}\r\n\r\n.redeem-btn[disabled] {\r\n\topacity: 0.5;\r\n}\r\n\r\n.redeem-btn::after {\r\n\tborder: none;\r\n}\r\n\r\n.button-hover {\r\n\topacity: 0.85;\r\n}\r\n</style>\r\n","import MiniProgramPage from 'D:/AAA_idea_java/pandaBase/panda-base-uni-app/pages/redeem/redeem.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","redeemCode"],"mappings":";;;AAgDA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,MAAM;AAAA,MACN,WAAW;AAAA,IACZ;AAAA,EACA;AAAA,EACD,SAAS;AAAA;AAAA,IAER,MAAM,eAAe;AAEpB,UAAI,CAAC,KAAK,QAAQ,KAAK,KAAK,WAAW,IAAI;AAC1CA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AACD;AAAA,MACD;AAEA,UAAI,KAAK;AAAW;AAEpB,WAAK,YAAY;AAEjB,UAAI;AACHA,sBAAAA,MAAI,YAAY;AAAA,UACf,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AAED,cAAMC,0BAAW;AAAA,UAChB,MAAM,KAAK,KAAK,KAAK;AAAA,QACtB,CAAC;AAEDD,sBAAG,MAAC,YAAW;AAGfA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,SAAS;AAAA,UACT,aAAa;AAAA,UACb,YAAY;AAAA,UACZ,SAAS,CAAC,QAAQ;AACjB,gBAAI,IAAI,SAAS;AAEhBA,4BAAAA,MAAI,WAAW;AAAA,gBACd,KAAK;AAAA,cACN,CAAC;AAAA,mBACK;AAENA,4BAAAA,MAAI,WAAW;AAAA,gBACd,KAAK;AAAA,cACN,CAAC;AAAA,YACF;AAAA,UACD;AAAA,QACD,CAAC;AAGD,aAAK,OAAO;AAAA,MAEX,SAAO,OAAO;AACfA,sBAAG,MAAC,YAAW;AACfA,sBAAA,MAAA,MAAA,SAAA,kCAAc,SAAS,KAAK;AAAA,MAE7B,UAAU;AACT,aAAK,YAAY;AAAA,MAClB;AAAA,IACD;AAAA,EACD;AACD;;;;;;;;;;;ACnHA,GAAG,WAAW,eAAe;"}